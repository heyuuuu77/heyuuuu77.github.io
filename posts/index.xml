<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on heyuuuu77</title>
    <link>https://heyuuuu77.github.io/posts/</link>
    <description>Recent content in Posts on heyuuuu77</description>
    <image>
      <title>heyuuuu77</title>
      <url>https://heyuuuu77.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://heyuuuu77.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.145.0</generator>
    <language>en</language>
    <lastBuildDate>Wed, 30 Jul 2025 20:06:04 +0800</lastBuildDate>
    <atom:link href="https://heyuuuu77.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>æ­Œå•</title>
      <link>https://heyuuuu77.github.io/posts/music_list/</link>
      <pubDate>Wed, 15 Jan 2025 11:30:03 +0000</pubDate>
      <guid>https://heyuuuu77.github.io/posts/music_list/</guid>
      <description>æ­Œå•ï¼Œä¹¦å•è®°å½•</description>
    </item>
    <item>
      <title>Elasticsearch</title>
      <link>https://heyuuuu77.github.io/posts/elasticsearch/</link>
      <pubDate>Wed, 30 Jul 2025 20:06:04 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/elasticsearch/</guid>
      <description>&lt;h3 id=&#34;start-elasticsearch-with-docker-localhost&#34;&gt;start elasticsearch with docker localhost&lt;/h3&gt;
&lt;p&gt;æ‰§è¡Œ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -fsSL https://elastic.co/start-local | sh 8DkwaOdk 8DkwaOdk elastic
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;curl -ssSL will get start-local.sh. The content will be:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
#!/bin/sh
# --------------------------------------------------------
# Run Elasticsearch and Kibana for local testing
# Note: do not use this script in a production environment
# --------------------------------------------------------
#
# Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
# or more contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright
# ownership. Elasticsearch B.V. licenses this file to you under
# the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); you may
# not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#	http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# &amp;#34;AS IS&amp;#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
set -eu

parse_args() {
  # Parse the script parameters
  while [ &amp;#34;$#&amp;#34; -gt 0 ]; do
    case &amp;#34;$1&amp;#34; in
      -v)
        # Check that there is another argument for the version
        if [ $# -lt 2 ]; then
          echo &amp;#34;Error: -v requires a version value (eg. -v 8.17.0)&amp;#34;
          exit 1
        fi
        es_version=&amp;#34;$2&amp;#34;
        shift 2
        ;;

      --esonly)
        esonly=true
        shift
        ;;

      --)
        # End of options; shift and exit the loop
        shift
        break
        ;;

      -*)
        # Unknown or unsupported option
        echo &amp;#34;Error: Unknown option &amp;#39;$1&amp;#39;&amp;#34;
        exit 1
        ;;

      *)
        # We&amp;#39;ve hit a non-option argument; stop parsing options
        break
        ;;
    esac
  done
}

startup() {
  echo
  echo &amp;#39;  ______ _           _   _      &amp;#39;
  echo &amp;#39; |  ____| |         | | (_)     &amp;#39;
  echo &amp;#39; | |__  | | __ _ ___| |_ _  ___ &amp;#39;
  echo &amp;#39; |  __| | |/ _` / __| __| |/ __|&amp;#39;
  echo &amp;#39; | |____| | (_| \__ \ |_| | (__ &amp;#39;
  echo &amp;#39; |______|_|\__,_|___/\__|_|\___|&amp;#39;
  echo &amp;#39;-------------------------------------------------&amp;#39;
  echo &amp;#39;ğŸš€ Run Elasticsearch and Kibana for local testing&amp;#39;
  echo &amp;#39;-------------------------------------------------&amp;#39;
  echo 
  echo &amp;#39;â„¹ï¸  Do not use this script in a production environment&amp;#39;
  echo

  # Version
  version=&amp;#34;0.10.0&amp;#34;

  # Folder name for the installation
  installation_folder=&amp;#34;${ES_LOCAL_DIR:-elastic-start-local}&amp;#34;
  # API key name for Elasticsearch
  api_key_name=&amp;#34;elastic-start-local&amp;#34;
  # Name of the error log
  error_log=&amp;#34;error-start-local.log&amp;#34;
  # Minimum version for docker-compose
  min_docker_compose=&amp;#34;1.29.0&amp;#34;
  # Elasticsearch container name
  elasticsearch_container_name=&amp;#34;es-local-dev${ES_LOCAL_DIR:+-${ES_LOCAL_DIR}}&amp;#34;
  # Kibana container name
  kibana_container_name=&amp;#34;kibana-local-dev${ES_LOCAL_DIR:+-${ES_LOCAL_DIR}}&amp;#34;
  # Kibana settings container name
  kibana_settings_container_name=&amp;#34;kibana-local-settings${ES_LOCAL_DIR:+-${ES_LOCAL_DIR}}&amp;#34;
  # Minimum disk space required for docker images + services (in GB)
  min_disk_space_required=5
}

# Check for ARM64 architecture
is_arm64() {
  arch=&amp;#34;$(uname -m)&amp;#34;
  if [ &amp;#34;$arch&amp;#34; = &amp;#34;arm64&amp;#34; ] || [ &amp;#34;$arch&amp;#34; = &amp;#34;aarch64&amp;#34; ]; then
    return 0 # Return 0 (true)
  else
    return 1 # Return 1 (false)
  fi
}

# Alternative to sort -V, which is not available in BSD-based systems (e.g., macOS)
version_sort() {
  awk -F&amp;#39;.&amp;#39; &amp;#39;
  {
      printf(&amp;#34;%d %d %d %s\n&amp;#34;, $1, $2, $3, $0)
  }&amp;#39; | sort -n -k1,1 -k2,2 -k3,3 | awk &amp;#39;{print $4}&amp;#39;
}

# Function to check if the format is a valid semantic version (major.minor.patch)
is_valid_version() {
  echo &amp;#34;$1&amp;#34; | grep -E -q &amp;#39;^[0-9]+\.[0-9]+\.[0-9]+$&amp;#39;
}

# Get the latest stable version of Elasticsearch
# Note: It removes all the beta or candidate releases from the list
# but includes the GA releases (e.g. new major)
get_latest_version() {
  versions=&amp;#34;$(curl -s &amp;#34;https://artifacts.elastic.co/releases/stack.json&amp;#34;)&amp;#34;
  latest_version=$(echo &amp;#34;$versions&amp;#34; | awk -F&amp;#39;&amp;#34;&amp;#39; &amp;#39;/&amp;#34;version&amp;#34;: *&amp;#34;/ {print $4}&amp;#39; | grep -E &amp;#39;^[0-9]+\.[0-9]+\.[0-9]+( GA)?$&amp;#39; | version_sort | tail -n 1)
  # Remove the GA prefix from the version, if present
  latest_version=$(echo &amp;#34;$latest_version&amp;#34; | awk &amp;#39;{ gsub(/ GA$/, &amp;#34;&amp;#34;, $0); print }&amp;#39;)

  # Check if the latest version is empty
  if [ -z &amp;#34;$latest_version&amp;#34; ]; then
    echo &amp;#34;Error: the latest Elasticsearch version is empty&amp;#34;
    exit 1
  fi
  # Check if the latest version is valid
  if ! is_valid_version &amp;#34;$latest_version&amp;#34;; then
    echo &amp;#34;Error: {$latest_version} is not a valid Elasticsearch stable version&amp;#34;
    exit 1
  fi

  echo &amp;#34;$latest_version&amp;#34;
}

# Detect if running on LXC container
detect_lxc() {
    # Check /proc/1/environ for LXC container identifier
    if grep -qa &amp;#34;container=lxc&amp;#34; /proc/1/environ 2&amp;gt;/dev/null; then
      return 0
    fi
    # Check /proc/self/cgroup for LXC references
    if grep -q &amp;#34;lxc&amp;#34; /proc/self/cgroup 2&amp;gt;/dev/null; then
      return 0
    fi
    # Check for LXC in /sys/fs/cgroup
    if grep -q &amp;#34;lxc&amp;#34; /sys/fs/cgroup/* 2&amp;gt;/dev/null; then  
      return 0
    fi
    # Use systemd-detect-virt if available
    if command -v systemd-detect-virt &amp;gt;/dev/null 2&amp;gt;&amp;amp;1; then
      if [ &amp;#34;$(systemd-detect-virt)&amp;#34; = &amp;#34;lxc&amp;#34; ]; then
        return 0
      fi
    fi
    return 1
}

# Get linux distribution
get_os_info() {
  if [ -f /etc/os-release ]; then
      # Most modern Linux distributions have this file
      . /etc/os-release
      echo &amp;#34;Distribution: $NAME&amp;#34;
      echo &amp;#34;Version: $VERSION&amp;#34;
  elif [ -f /etc/lsb-release ]; then
      # For older distributions using LSB (Linux Standard Base)
      . /etc/lsb-release
      echo &amp;#34;Distribution: $DISTRIB_ID&amp;#34;
      echo &amp;#34;Version: $DISTRIB_RELEASE&amp;#34;
  elif [ -f /etc/debian_version ]; then
      # For Debian-based distributions without os-release or lsb-release
      echo &amp;#34;Distribution: Debian&amp;#34;
      echo &amp;#34;Version: $(cat /etc/debian_version)&amp;#34;
  elif [ -f /etc/redhat-release ]; then
      # For Red Hat-based distributions
      echo &amp;#34;Distribution: $(cat /etc/redhat-release)&amp;#34;
  elif [ -n &amp;#34;${OSTYPE+x}&amp;#34; ]; then
    if [ &amp;#34;${OSTYPE#darwin}&amp;#34; != &amp;#34;$OSTYPE&amp;#34; ]; then
        # macOS detection
        echo &amp;#34;Distribution: macOS&amp;#34;
        echo &amp;#34;Version: $(sw_vers -productVersion)&amp;#34;
    elif [ &amp;#34;$OSTYPE&amp;#34; = &amp;#34;cygwin&amp;#34; ] || [ &amp;#34;$OSTYPE&amp;#34; = &amp;#34;msys&amp;#34; ] || [ &amp;#34;$OSTYPE&amp;#34; = &amp;#34;win32&amp;#34; ]; then
        # Windows detection in environments like Git Bash, Cygwin, or MinGW
        echo &amp;#34;Distribution: Windows&amp;#34;
        echo &amp;#34;Version: $(cmd.exe /c ver | tr -d &amp;#39;\r&amp;#39;)&amp;#34;
    elif [ &amp;#34;$OSTYPE&amp;#34; = &amp;#34;linux-gnu&amp;#34; ] &amp;amp;&amp;amp; uname -r | grep -q &amp;#34;Microsoft&amp;#34;; then
        # Windows Subsystem for Linux (WSL) detection
        echo &amp;#34;Distribution: Windows (WSL)&amp;#34;
        echo &amp;#34;Version: $(uname -r)&amp;#34;
    fi
  else
      echo &amp;#34;Unknown operating system&amp;#34;
  fi
  if [ -f /proc/version ]; then
    # Check if running on WSL2 or WSL1 for Microsoft
    if grep -q &amp;#34;WSL2&amp;#34; /proc/version; then
      echo &amp;#34;Running on WSL2&amp;#34;
    elif grep -q &amp;#34;microsoft&amp;#34; /proc/version; then
      echo &amp;#34;Running on WSL1&amp;#34;
    fi
  fi
}

# Check if a command exists
available() { command -v &amp;#34;$1&amp;#34; &amp;gt;/dev/null; }

# Revert the status, removing containers, volumes, network and folder
cleanup() {
  if [ -d &amp;#34;./../$folder_to_clean&amp;#34; ]; then
    if [ -f &amp;#34;docker-compose.yml&amp;#34; ]; then
      $docker_clean &amp;gt;/dev/null 2&amp;gt;&amp;amp;1
      $docker_remove_volumes &amp;gt;/dev/null 2&amp;gt;&amp;amp;1
    fi
    cd ..
    rm -rf &amp;#34;${folder_to_clean}&amp;#34;
  fi
}

# Generate the error log
# parameter 1: error message
# parameter 2: the container names to retrieve, separated by comma
generate_error_log() {
  msg=&amp;#34;$1&amp;#34;
  docker_services=&amp;#34;$2&amp;#34;
  error_file=&amp;#34;$error_log&amp;#34;
  if [ -d &amp;#34;./../$folder_to_clean&amp;#34; ]; then
    error_file=&amp;#34;./../$error_log&amp;#34;
  fi
  if [ -n &amp;#34;${msg}&amp;#34; ]; then
    echo &amp;#34;${msg}&amp;#34; &amp;gt; &amp;#34;$error_file&amp;#34;
  fi
  { 
    echo &amp;#34;Start-local version: ${version}&amp;#34;
    echo &amp;#34;Docker engine: $(docker --version)&amp;#34;
    echo &amp;#34;Docker compose: ${docker_version}&amp;#34;
    get_os_info
  } &amp;gt;&amp;gt; &amp;#34;$error_file&amp;#34; 
  for service in $docker_services; do
    echo &amp;#34;-- Logs of service ${service}:&amp;#34; &amp;gt;&amp;gt; &amp;#34;$error_file&amp;#34;
    docker logs &amp;#34;${service}&amp;#34; &amp;gt;&amp;gt; &amp;#34;$error_file&amp;#34; 2&amp;gt; /dev/null
  done
  echo &amp;#34;An error log has been generated in ${error_log} file.&amp;#34;
  echo &amp;#34;If you need assistance, open an issue at https://github.com/elastic/start-local/issues&amp;#34;
}

# Compare versions
# parameter 1: version to compare
# parameter 2: version to compare
compare_versions() {
  v1=$1
  v2=$2

  original_ifs=&amp;#34;$IFS&amp;#34;
  IFS=&amp;#39;.&amp;#39;
  # shellcheck disable=SC2086
  set -- $v1; v1_major=${1:-0}; v1_minor=${2:-0}; v1_patch=${3:-0}
  IFS=&amp;#39;.&amp;#39;
  # shellcheck disable=SC2086
  set -- $v2; v2_major=${1:-0}; v2_minor=${2:-0}; v2_patch=${3:-0}
  IFS=&amp;#34;$original_ifs&amp;#34;

  [ &amp;#34;$v1_major&amp;#34; -lt &amp;#34;$v2_major&amp;#34; ] &amp;amp;&amp;amp; echo &amp;#34;lt&amp;#34; &amp;amp;&amp;amp; return 0
  [ &amp;#34;$v1_major&amp;#34; -gt &amp;#34;$v2_major&amp;#34; ] &amp;amp;&amp;amp; echo &amp;#34;gt&amp;#34; &amp;amp;&amp;amp; return 0

  [ &amp;#34;$v1_minor&amp;#34; -lt &amp;#34;$v2_minor&amp;#34; ] &amp;amp;&amp;amp; echo &amp;#34;lt&amp;#34; &amp;amp;&amp;amp; return 0
  [ &amp;#34;$v1_minor&amp;#34; -gt &amp;#34;$v2_minor&amp;#34; ] &amp;amp;&amp;amp; echo &amp;#34;gt&amp;#34; &amp;amp;&amp;amp; return 0

  [ &amp;#34;$v1_patch&amp;#34; -lt &amp;#34;$v2_patch&amp;#34; ] &amp;amp;&amp;amp; echo &amp;#34;lt&amp;#34; &amp;amp;&amp;amp; return 0
  [ &amp;#34;$v1_patch&amp;#34; -gt &amp;#34;$v2_patch&amp;#34; ] &amp;amp;&amp;amp; echo &amp;#34;gt&amp;#34; &amp;amp;&amp;amp; return 0

  echo &amp;#34;eq&amp;#34;
}

# Wait for availability of Kibana
# parameter: timeout in seconds
wait_for_kibana() {
  timeout=&amp;#34;${1:-60}&amp;#34;
  echo &amp;#34;- Waiting for Kibana to be ready&amp;#34;
  echo
  start_time=&amp;#34;$(date +%s)&amp;#34;
  until curl -s -I http://localhost:5601 | grep -q &amp;#39;HTTP/1.1 302 Found&amp;#39;; do
    elapsed_time=&amp;#34;$(($(date +%s) - start_time))&amp;#34;
    if [ &amp;#34;$elapsed_time&amp;#34; -ge &amp;#34;$timeout&amp;#34; ]; then
      error_msg=&amp;#34;Error: Kibana timeout of ${timeout} sec&amp;#34;
      echo &amp;#34;$error_msg&amp;#34;
      generate_error_log &amp;#34;${error_msg}&amp;#34; &amp;#34;${elasticsearch_container_name} ${kibana_container_name} kibana-settings&amp;#34;
      cleanup
      exit 1
    fi
    sleep 2
  done
}

# Generates a random password with letters and numbers
# parameter: size of the password (default is 8 characters)
random_password() {
  LENGTH=&amp;#34;${1:-8}&amp;#34;
  LC_ALL=C tr -dc &amp;#39;A-Za-z0-9&amp;#39; &amp;lt; /dev/urandom | head -c &amp;#34;${LENGTH}&amp;#34;
}

# Create an API key for Elasticsearch
# parameter 1: the Elasticsearch password
# parameter 2: name of the API key to generate
create_api_key() {
  es_password=$1
  name=$2
  response=&amp;#34;$(curl -s -u &amp;#34;elastic:${es_password}&amp;#34; -X POST http://localhost:9200/_security/api_key -d &amp;#34;{\&amp;#34;name\&amp;#34;: \&amp;#34;${name}\&amp;#34;}&amp;#34; -H &amp;#34;Content-Type: application/json&amp;#34;)&amp;#34;
  if [ -z &amp;#34;$response&amp;#34; ]; then
    echo &amp;#34;&amp;#34;
  else
    api_key=&amp;#34;$(echo &amp;#34;$response&amp;#34; | grep -Eo &amp;#39;&amp;#34;encoded&amp;#34;:&amp;#34;[A-Za-z0-9+/=]+&amp;#39; | grep -Eo &amp;#39;[A-Za-z0-9+/=]+&amp;#39; | tail -n 1)&amp;#34;
    echo &amp;#34;$api_key&amp;#34;
  fi
}

# Check if a container is runnning
# parameter: the name of the container
check_container_running() {
  container_name=$1
  containers=&amp;#34;$(docker ps --format &amp;#39;{{.Names}}&amp;#39;)&amp;#34;
  if echo &amp;#34;$containers&amp;#34; | grep -q &amp;#34;^${container_name}$&amp;#34;; then
    echo &amp;#34;The docker container &amp;#39;$container_name&amp;#39; is already running!&amp;#34;
    echo &amp;#34;You can have only one running at time.&amp;#34;
    echo &amp;#34;To stop the container run the following command:&amp;#34;
    echo
    echo &amp;#34;docker stop $container_name&amp;#34;
    exit 1
  fi
}

# Check the available disk space in GB
# parameter: required size in GB
check_disk_space_gb() {
  required=$1
  available_gb=$(($(df -k / | awk &amp;#39;NR==2 {print $4}&amp;#39;) / 1024 / 1024))
  if [ &amp;#34;$available_gb&amp;#34; -lt &amp;#34;$required&amp;#34; ]; then
    echo &amp;#34;Error: only ${available_gb} GB of disk space available; ${required} GB required for the installation&amp;#34;
    exit 1
  fi
}

check_requirements() {
  # Check the requirements
  check_disk_space_gb ${min_disk_space_required}
  if ! available &amp;#34;curl&amp;#34;; then
    echo &amp;#34;Error: curl command is required&amp;#34;
    echo &amp;#34;You can install it from https://curl.se/download.html.&amp;#34;
    exit 1
  fi
  if ! available &amp;#34;grep&amp;#34;; then
    echo &amp;#34;Error: grep command is required&amp;#34;
    echo &amp;#34;You can install it from https://www.gnu.org/software/grep/.&amp;#34;
    exit 1
  fi
  need_wait_for_kibana=true
  # Check for &amp;#34;docker compose&amp;#34; or &amp;#34;docker-compose&amp;#34;
  set +e
  if ! docker compose &amp;gt;/dev/null 2&amp;gt;&amp;amp;1; then
    if ! available &amp;#34;docker-compose&amp;#34;; then
      if ! available &amp;#34;docker&amp;#34;; then
        echo &amp;#34;Error: docker command is required&amp;#34;
        echo &amp;#34;You can install it from https://docs.docker.com/engine/install/.&amp;#34;
        exit 1
      fi
      echo &amp;#34;Error: docker compose is required&amp;#34;
      echo &amp;#34;You can install it from https://docs.docker.com/compose/install/&amp;#34;
      exit 1
    fi
    docker=&amp;#34;docker-compose up -d&amp;#34;
    docker_stop=&amp;#34;docker-compose stop&amp;#34;
    docker_clean=&amp;#34;docker-compose rm -fsv&amp;#34;
    docker_remove_volumes=&amp;#34;docker-compose down -v&amp;#34;
    docker_version=$(docker-compose --version | head -n 1 | grep -Eo &amp;#39;[0-9]+\.[0-9]+\.[0-9]+&amp;#39;)
    if [ &amp;#34;$(compare_versions &amp;#34;$docker_version&amp;#34; &amp;#34;$min_docker_compose&amp;#34;)&amp;#34; = &amp;#34;lt&amp;#34; ]; then
      echo &amp;#34;Unfortunately we don&amp;#39;t support docker compose ${docker_version}. The minimum required version is $min_docker_compose.&amp;#34;
      echo &amp;#34;You can migrate you docker compose from https://docs.docker.com/compose/migrate/&amp;#34;
      cleanup
      exit 1
    fi 
  else
    docker_stop=&amp;#34;docker compose stop&amp;#34;
    docker_clean=&amp;#34;docker compose rm -fsv&amp;#34;
    docker_remove_volumes=&amp;#34;docker compose down -v&amp;#34;
    docker_version=$(docker compose version | head -n 1 | grep -Eo &amp;#39;[0-9]+\.[0-9]+\.[0-9]+&amp;#39;)
    # --wait option has been introduced in 2.1.1+
    if [ &amp;#34;$(compare_versions &amp;#34;$docker_version&amp;#34; &amp;#34;2.1.0&amp;#34;)&amp;#34; = &amp;#34;gt&amp;#34; ]; then
      docker=&amp;#34;docker compose up --wait&amp;#34;
      need_wait_for_kibana=false
    else
      docker=&amp;#34;docker compose up -d&amp;#34;
    fi
  fi
  set -e
}

check_installation_folder() {
  # Check if $installation_folder exists
  folder=$installation_folder
  if [ -d &amp;#34;$folder&amp;#34; ]; then
    if [ -n &amp;#34;$(ls -A &amp;#34;$folder&amp;#34;)&amp;#34; ]; then
      echo &amp;#34;It seems you have already a start-local installation in &amp;#39;${folder}&amp;#39;.&amp;#34;
      if [ -f &amp;#34;$folder/uninstall.sh&amp;#34; ]; then
        echo &amp;#34;I cannot proceed unless you uninstall it, using the following command:&amp;#34;
        echo &amp;#34;cd $folder &amp;amp;&amp;amp; ./uninstall.sh&amp;#34;
      else
        echo &amp;#34;I did not find the uninstall.sh file, you need to proceed manually.&amp;#34;
        if [ -f &amp;#34;$folder/docker-compose.yml&amp;#34; ] &amp;amp;&amp;amp; [ -f &amp;#34;$folder/.env&amp;#34; ]; then
          echo &amp;#34;Execute the following commands:&amp;#34;
          echo &amp;#34;cd $folder&amp;#34;
          echo &amp;#34;$docker_clean&amp;#34;
          echo &amp;#34;$docker_remove_volumes&amp;#34;
          echo &amp;#34;cd ..&amp;#34;
          echo &amp;#34;rm -rf $folder&amp;#34;
        fi
      fi
      exit 1
    fi
  fi
}

check_docker_services() {
  # Check for docker containers running
  check_container_running &amp;#34;$elasticsearch_container_name&amp;#34;
  check_container_running &amp;#34;$kibana_container_name&amp;#34;
  check_container_running &amp;#34;$kibana_settings_container_name&amp;#34;
}

create_installation_folder() {
  # If $folder already exists, it is empty, see above
  if [ ! -d &amp;#34;$folder&amp;#34; ]; then 
    mkdir &amp;#34;$folder&amp;#34;
  fi
  cd &amp;#34;$folder&amp;#34;
  folder_to_clean=$folder
}

generate_passwords() {
  # Generate random passwords
  es_password=&amp;#34;${ES_LOCAL_PASSWORD:-$(random_password)}&amp;#34;
  if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
    kibana_password=&amp;#34;$(random_password)&amp;#34;
    kibana_encryption_key=&amp;#34;$(random_password 32)&amp;#34;
  fi
}

choose_es_version() {
  if [ -z &amp;#34;${es_version:-}&amp;#34; ]; then
    # Get the latest Elasticsearch version
    es_version=&amp;#34;$(get_latest_version)&amp;#34;
  fi
  # Fix for ARM64: add suffix &amp;#34;-arm64&amp;#34;
  if is_arm64 &amp;amp;&amp;amp; [ &amp;#34;${es_version##*-arm64}&amp;#34; = &amp;#34;$es_version&amp;#34; ]; then
    es_version=&amp;#34;${es_version}-arm64&amp;#34;
  fi
}

create_env_file() {
  # Create the .env file
  cat &amp;gt; .env &amp;lt;&amp;lt;- EOM
START_LOCAL_VERSION=$version
ES_LOCAL_VERSION=$es_version
ES_LOCAL_CONTAINER_NAME=$elasticsearch_container_name
ES_LOCAL_PASSWORD=$es_password
ES_LOCAL_PORT=9200
ES_LOCAL_URL=http://localhost:\${ES_LOCAL_PORT}
ES_LOCAL_HEAP_INIT=128m
ES_LOCAL_HEAP_MAX=2g
ES_LOCAL_DISK_SPACE_REQUIRED=1gb
EOM

  if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
    cat &amp;gt;&amp;gt; .env &amp;lt;&amp;lt;- EOM
KIBANA_LOCAL_CONTAINER_NAME=$kibana_container_name
KIBANA_LOCAL_SETTINGS_CONTAINER_NAME=$kibana_settings_container_name
KIBANA_LOCAL_PORT=5601
KIBANA_LOCAL_PASSWORD=$kibana_password
KIBANA_ENCRYPTION_KEY=$kibana_encryption_key
EOM
  fi
}

# Create the start script (start.sh)
# including the license update if trial expired
create_start_file() {
  today=$(date +%s)
  expire=$((today + 3600*24*30))

  cat &amp;gt; start.sh &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
#!/bin/sh
# Start script for start-local
# More information: https://github.com/elastic/start-local
set -eu

SCRIPT_DIR=&amp;#34;$(cd &amp;#34;$(dirname &amp;#34;$0&amp;#34;)&amp;#34; &amp;amp;&amp;amp; pwd)&amp;#34;
cd &amp;#34;${SCRIPT_DIR}&amp;#34;
today=$(date +%s)
. ./.env
# Check disk space
available_gb=$(($(df -k / | awk &amp;#39;NR==2 {print $4}&amp;#39;) / 1024 / 1024))
required=$(echo &amp;#34;${ES_LOCAL_DISK_SPACE_REQUIRED}&amp;#34; | grep -Eo &amp;#39;[0-9]+&amp;#39;)
if [ &amp;#34;$available_gb&amp;#34; -lt &amp;#34;$required&amp;#34; ]; then
  echo &amp;#34;----------------------------------------------------------------------------&amp;#34;
  echo &amp;#34;WARNING: Disk space is below the ${required} GB limit. Elasticsearch will be&amp;#34;
  echo &amp;#34;executed in read-only mode. Please free up disk space to resolve this issue.&amp;#34;
  echo &amp;#34;----------------------------------------------------------------------------&amp;#34;
  echo &amp;#34;Press ENTER to confirm.&amp;#34;
  # shellcheck disable=SC2034
  read -r line
fi
EOM
  if [ &amp;#34;$need_wait_for_kibana&amp;#34; = true ]; then
    cat &amp;gt;&amp;gt; start.sh &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
wait_for_kibana() {
  _timeout=&amp;#34;${1:-60}&amp;#34;
  echo &amp;#34;- Waiting for Kibana to be ready&amp;#34;
  echo
  _start_time=&amp;#34;$(date +%s)&amp;#34;
  until curl -s -I http://localhost:5601 | grep -q &amp;#39;HTTP/1.1 302 Found&amp;#39;; do
    elapsed_time=&amp;#34;$(($(date +%s) - _start_time))&amp;#34;
    if [ &amp;#34;$elapsed_time&amp;#34; -ge &amp;#34;$_timeout&amp;#34; ]; then
      echo &amp;#34;Error: Kibana timeout of ${_timeout} sec&amp;#34;
      exit 1
    fi
    sleep 2
  done
}

EOM
  fi

  cat &amp;gt;&amp;gt; start.sh &amp;lt;&amp;lt;- EOM
if [ -z &amp;#34;\${ES_LOCAL_LICENSE:-}&amp;#34; ] &amp;amp;&amp;amp; [ &amp;#34;\$today&amp;#34; -gt $expire ]; then
  echo &amp;#34;---------------------------------------------------------------------&amp;#34;
  echo &amp;#34;The one-month trial period has expired. You can continue using the&amp;#34;
  echo &amp;#34;Free and open Basic license or request to extend the trial for&amp;#34;
  echo &amp;#34;another 30 days using this form:&amp;#34;
  echo &amp;#34;https://www.elastic.co/trialextension&amp;#34;
  echo &amp;#34;---------------------------------------------------------------------&amp;#34;
  echo &amp;#34;For more info about the license: https://www.elastic.co/subscriptions&amp;#34;
  echo
  echo &amp;#34;Updating the license...&amp;#34;
  $docker elasticsearch &amp;gt;/dev/null 2&amp;gt;&amp;amp;1
  result=\$(curl -s -X POST &amp;#34;\${ES_LOCAL_URL}/_license/start_basic?acknowledge=true&amp;#34; -H &amp;#34;Authorization: ApiKey \${ES_LOCAL_API_KEY}&amp;#34; -o /dev/null -w &amp;#39;%{http_code}\n&amp;#39;)
  if [ &amp;#34;\$result&amp;#34; = &amp;#34;200&amp;#34; ]; then
    echo &amp;#34;âœ… Basic license successfully installed&amp;#34;
    echo &amp;#34;ES_LOCAL_LICENSE=basic&amp;#34; &amp;gt;&amp;gt; .env
  else 
    echo &amp;#34;Error: I cannot update the license&amp;#34;
    result=\$(curl -s -X GET &amp;#34;\${ES_LOCAL_URL}&amp;#34; -H &amp;#34;Authorization: ApiKey \${ES_LOCAL_API_KEY}&amp;#34; -o /dev/null -w &amp;#39;%{http_code}\n&amp;#39;)
    if [ &amp;#34;\$result&amp;#34; != &amp;#34;200&amp;#34; ]; then
      echo &amp;#34;Elasticsearch is not running.&amp;#34;
    fi
    exit 1
  fi
  echo
fi
$docker
EOM

  if [ &amp;#34;$need_wait_for_kibana&amp;#34; = true ]; then
    cat &amp;gt;&amp;gt; start.sh &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
wait_for_kibana 120
EOM
  fi
  chmod +x start.sh
}

# Create the stop script (stop.sh)
create_stop_file() {
  cat &amp;gt; stop.sh &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
#!/bin/sh
# Stop script for start-local
# More information: https://github.com/elastic/start-local
set -eu

SCRIPT_DIR=&amp;#34;$(cd &amp;#34;$(dirname &amp;#34;$0&amp;#34;)&amp;#34; &amp;amp;&amp;amp; pwd)&amp;#34;
cd &amp;#34;${SCRIPT_DIR}&amp;#34;
EOM

  cat &amp;gt;&amp;gt; stop.sh &amp;lt;&amp;lt;- EOM
$docker_stop
EOM
  chmod +x stop.sh
}

# Create the uninstall script (uninstall.sh)
create_uninstall_file() {

  cat &amp;gt; uninstall.sh &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
#!/bin/sh
# Uninstall script for start-local
# More information: https://github.com/elastic/start-local
set -eu

SCRIPT_DIR=&amp;#34;$(cd &amp;#34;$(dirname &amp;#34;$0&amp;#34;)&amp;#34; &amp;amp;&amp;amp; pwd)&amp;#34;

ask_confirmation() {
    echo &amp;#34;Do you confirm? (yes/no)&amp;#34;
    read -r answer
    case &amp;#34;$answer&amp;#34; in
        yes|y|Y|Yes|YES)
            return 0  # true
            ;;
        no|n|N|No|NO)
            return 1  # false
            ;;
        *)
            echo &amp;#34;Please answer yes or no.&amp;#34;
            ask_confirmation  # Ask again if the input is invalid
            ;;
    esac
}

cd &amp;#34;${SCRIPT_DIR}&amp;#34;
if [ ! -e &amp;#34;docker-compose.yml&amp;#34; ]; then
  echo &amp;#34;Error: I cannot find the docker-compose.yml file&amp;#34;
  echo &amp;#34;I cannot uninstall start-local.&amp;#34;
fi
if [ ! -e &amp;#34;.env&amp;#34; ]; then
  echo &amp;#34;Error: I cannot find the .env file&amp;#34;
  echo &amp;#34;I cannot uninstall start-local.&amp;#34;
fi
echo &amp;#34;This script will uninstall start-local.&amp;#34;
echo &amp;#34;All data will be deleted and cannot be recovered.&amp;#34;
if ask_confirmation; then
EOM

  cat &amp;gt;&amp;gt; uninstall.sh &amp;lt;&amp;lt;- EOM
  $docker_clean
  $docker_remove_volumes
  rm docker-compose.yml .env uninstall.sh start.sh stop.sh config/telemetry.yml
  if [ -z &amp;#34;\$(ls -A config)&amp;#34; ]; then
    rm -d config
  fi
  echo
  echo &amp;#34;Do you want to remove the following Docker images?&amp;#34;
  echo &amp;#34;- docker.elastic.co/elasticsearch/elasticsearch:${es_version}&amp;#34;
EOM

  if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
    cat &amp;gt;&amp;gt; uninstall.sh &amp;lt;&amp;lt;- EOM
  echo &amp;#34;- docker.elastic.co/kibana/kibana:${es_version}&amp;#34;
EOM
  fi

  cat &amp;gt;&amp;gt; uninstall.sh &amp;lt;&amp;lt;- EOM
  if ask_confirmation; then
    if docker rmi &amp;#34;docker.elastic.co/elasticsearch/elasticsearch:${es_version}&amp;#34; &amp;gt;/dev/null 2&amp;gt;&amp;amp;1; then
      echo &amp;#34;Image docker.elastic.co/elasticsearch/elasticsearch:${es_version} removed successfully&amp;#34;
    else
      echo &amp;#34;Failed to remove image docker.elastic.co/elasticsearch/elasticsearch:${es_version}. It might be in use.&amp;#34;
    fi
EOM

  if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
    cat &amp;gt;&amp;gt; uninstall.sh &amp;lt;&amp;lt;- EOM
    if docker rmi docker.elastic.co/kibana/kibana:${es_version} &amp;gt;/dev/null 2&amp;gt;&amp;amp;1; then
      echo &amp;#34;Image docker.elastic.co/kibana/kibana:${es_version} removed successfully&amp;#34;
    else
      echo &amp;#34;Failed to remove image docker.elastic.co/kibana/kibana:${es_version}. It might be in use.&amp;#34;
    fi
EOM
  fi

  cat &amp;gt;&amp;gt; uninstall.sh &amp;lt;&amp;lt;- EOM
  fi
  echo &amp;#34;Start-local successfully removed&amp;#34;
fi
EOM
  chmod +x uninstall.sh
}

create_docker_compose_file() {
  # Create the docker-compose-yml file
  cat &amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:${ES_LOCAL_VERSION}
    container_name: ${ES_LOCAL_CONTAINER_NAME}
    volumes:
      - dev-elasticsearch:/usr/share/elasticsearch/data
    ports:
      - 127.0.0.1:${ES_LOCAL_PORT}:9200
    environment:
      - discovery.type=single-node
      - ELASTIC_PASSWORD=${ES_LOCAL_PASSWORD}
      - xpack.security.enabled=true
      - xpack.security.http.ssl.enabled=false
      - xpack.license.self_generated.type=trial
      - xpack.ml.use_auto_machine_memory_percent=true
      - ES_JAVA_OPTS=-Xms${ES_LOCAL_HEAP_INIT} -Xmx${ES_LOCAL_HEAP_MAX}
      - cluster.routing.allocation.disk.watermark.low=${ES_LOCAL_DISK_SPACE_REQUIRED}
      - cluster.routing.allocation.disk.watermark.high=${ES_LOCAL_DISK_SPACE_REQUIRED}
      - cluster.routing.allocation.disk.watermark.flood_stage=${ES_LOCAL_DISK_SPACE_REQUIRED}
EOM
  
  # Fix for JDK AArch64 issue, see https://bugs.openjdk.org/browse/JDK-8345296
  if is_arm64; then
  cat &amp;gt;&amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
      - &amp;#34;_JAVA_OPTIONS=-XX:UseSVE=0&amp;#34;
EOM
  fi

  # Fix for OCI issue on LXC, see https://github.com/elastic/start-local/issues/27
  if ! detect_lxc; then
  cat &amp;gt;&amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
    ulimits:
      memlock:
        soft: -1
        hard: -1
EOM
  fi

  cat &amp;gt;&amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
    healthcheck:
      test:
        [
          &amp;#34;CMD-SHELL&amp;#34;,
          &amp;#34;curl --output /dev/null --silent --head --fail -u elastic:${ES_LOCAL_PASSWORD} http://elasticsearch:9200&amp;#34;,
        ]
      interval: 10s
      timeout: 10s
      retries: 30

EOM

if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
  cat &amp;gt;&amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
  kibana_settings:
    depends_on:
      elasticsearch:
        condition: service_healthy
    image: docker.elastic.co/elasticsearch/elasticsearch:${ES_LOCAL_VERSION}
    container_name: ${KIBANA_LOCAL_SETTINGS_CONTAINER_NAME}
    restart: &amp;#39;no&amp;#39;
    command: &amp;gt;
      bash -c &amp;#39;
        echo &amp;#34;Setup the kibana_system password&amp;#34;;
        start_time=$$(date +%s);
        timeout=60;
        until curl -s -u &amp;#34;elastic:${ES_LOCAL_PASSWORD}&amp;#34; -X POST http://elasticsearch:9200/_security/user/kibana_system/_password -d &amp;#34;{\&amp;#34;password\&amp;#34;:\&amp;#34;${KIBANA_LOCAL_PASSWORD}\&amp;#34;}&amp;#34; -H &amp;#34;Content-Type: application/json&amp;#34; | grep -q &amp;#34;^{}&amp;#34;; do
          if [ $$(($$(date +%s) - $$start_time)) -ge $$timeout ]; then
            echo &amp;#34;Error: Elasticsearch timeout&amp;#34;;
            exit 1;
          fi;
          sleep 2;
        done;
      &amp;#39;

  kibana:
    depends_on:
      kibana_settings:
        condition: service_completed_successfully
    image: docker.elastic.co/kibana/kibana:${ES_LOCAL_VERSION}
    container_name: ${KIBANA_LOCAL_CONTAINER_NAME}
    volumes:
      - dev-kibana:/usr/share/kibana/data
      - ./config/telemetry.yml:/usr/share/kibana/config/telemetry.yml
    ports:
      - 127.0.0.1:${KIBANA_LOCAL_PORT}:5601
    environment:
      - SERVER_NAME=kibana
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
      - ELASTICSEARCH_USERNAME=kibana_system
      - ELASTICSEARCH_PASSWORD=${KIBANA_LOCAL_PASSWORD}
      - XPACK_ENCRYPTEDSAVEDOBJECTS_ENCRYPTIONKEY=${KIBANA_ENCRYPTION_KEY}
      - ELASTICSEARCH_PUBLICBASEURL=http://localhost:${ES_LOCAL_PORT}
    healthcheck:
      test:
        [
          &amp;#34;CMD-SHELL&amp;#34;,
          &amp;#34;curl -s -I http://kibana:5601 | grep -q &amp;#39;HTTP/1.1 302 Found&amp;#39;&amp;#34;,
        ]
      interval: 10s
      timeout: 10s
      retries: 30

EOM
fi

  cat &amp;gt;&amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
volumes:
  dev-elasticsearch:
EOM

if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
  cat &amp;gt;&amp;gt; docker-compose.yml &amp;lt;&amp;lt;-&amp;#39;EOM&amp;#39;
  dev-kibana:
EOM
fi

create_kibana_config
}

create_kibana_config() {
  if [ ! -d &amp;#34;config&amp;#34; ]; then
    mkdir config
  fi
  # Create telemetry
  cat &amp;gt; config/telemetry.yml &amp;lt;&amp;lt;- EOM
start-local:
  version: ${version}
EOM
}

print_steps() {
  if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
    echo &amp;#34;âŒ›ï¸ Setting up Elasticsearch and Kibana v${es_version}...&amp;#34;
  else
    echo &amp;#34;âŒ›ï¸ Setting up Elasticsearch v${es_version}...&amp;#34;
  fi
  echo
  echo &amp;#34;- Generated random passwords&amp;#34;
  echo &amp;#34;- Created the ${folder} folder containing the files:&amp;#34;
  echo &amp;#34;  - .env, with settings&amp;#34;
  echo &amp;#34;  - docker-compose.yml, for Docker services&amp;#34;
  echo &amp;#34;  - start/stop/uninstall commands&amp;#34;
}

running_docker_compose() {
  # Execute docker compose
  echo &amp;#34;- Running ${docker}&amp;#34;
  echo
  set +e
  if ! $docker; then
    error_msg=&amp;#34;Error: ${docker} command failed!&amp;#34;
    echo &amp;#34;$error_msg&amp;#34;
    if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
      generate_error_log &amp;#34;${error_msg}&amp;#34; &amp;#34;${elasticsearch_container_name} ${kibana_container_name} kibana_settings&amp;#34;
    else
      generate_error_log &amp;#34;${error_msg}&amp;#34; &amp;#34;${elasticsearch_container_name}&amp;#34;
    fi
    cleanup
    exit 1
  fi
  set -e
}

api_key() {
  # Create an API key for Elasticsearch
  api_key=$(create_api_key &amp;#34;$es_password&amp;#34; &amp;#34;$api_key_name&amp;#34;)
  if [ -n &amp;#34;$api_key&amp;#34; ]; then
    echo &amp;#34;ES_LOCAL_API_KEY=${api_key}&amp;#34; &amp;gt;&amp;gt; .env
  fi
}

kibana_wait() {
  if [ &amp;#34;$need_wait_for_kibana&amp;#34; = true ]; then
    wait_for_kibana 120
  fi
}

success() {
  echo
  if  [ -z &amp;#34;${esonly:-}&amp;#34; ]; then
    echo &amp;#34;ğŸ‰ Congrats, Elasticsearch and Kibana are installed and running in Docker!&amp;#34;
    echo
    echo &amp;#34;ğŸŒ Open your browser at http://localhost:5601&amp;#34;
    echo
    echo &amp;#34;   Username: elastic&amp;#34;
    echo &amp;#34;   Password: ${es_password}&amp;#34;
    echo
  else
    echo &amp;#34;ğŸ‰ Congrats, Elasticsearch is installed and running in Docker!&amp;#34;
  fi
  
  echo &amp;#34;ğŸ”Œ Elasticsearch API endpoint: http://localhost:9200&amp;#34;
  if [ -n &amp;#34;$api_key&amp;#34; ]; then
    echo &amp;#34;ğŸ”‘ API key: $api_key&amp;#34;
    echo
  else
    echo &amp;#34;ğŸ”‘ Use basic auth or create an API key&amp;#34;
    echo &amp;#34;https://www.elastic.co/guide/en/kibana/current/api-keys.html&amp;#34;
    echo
  fi
  echo
  echo &amp;#34;Learn more at https://github.com/elastic/start-local&amp;#34;

  echo
}

main() {
  parse_args &amp;#34;$@&amp;#34;
  startup
  check_requirements
  check_installation_folder
  check_docker_services
  create_installation_folder
  generate_passwords
  choose_es_version
  create_start_file
  create_stop_file
  create_uninstall_file
  create_env_file
  create_docker_compose_file
  print_steps
  running_docker_compose
  api_key
  kibana_wait
  success
}

ctrl_c() { 
  cleanup
  exit 1
}

# Trap ctrl-c
trap ctrl_c INT

# Execute the script
main &amp;#34;$@&amp;#34;
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Tree</title>
      <link>https://heyuuuu77.github.io/posts/tree/</link>
      <pubDate>Fri, 06 Jun 2025 15:53:55 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/tree/</guid>
      <description>&lt;h3 id=&#34;å“ˆå¸Œå†²çªçš„åŸå› ä»¥åŠè§£å†³åŠæ³•&#34;&gt;å“ˆå¸Œå†²çªçš„åŸå› ä»¥åŠè§£å†³åŠæ³•&lt;/h3&gt;
&lt;p&gt;hashç®—æ³•æ˜¯ä¸€ç§æ•°æ®å‹ç¼©æ–¹å¼ï¼Œç”±äºç®—æ³•äº§ç”Ÿçš„å“ˆå¸Œå€¼çš„æ•°é‡æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å½“æ•°æ®é‡å¤§æ—¶å°±ä¼šå‡ºç°å“ˆå¸Œå€¼ä¸å¤Ÿç”¨çš„æƒ…å†µï¼Œå¤šä¸ªæ•°æ®é€šè¿‡ç®—æ³•çš„å‡ºäº†ç›¸åŒçš„å“ˆå¸Œå€¼ã€‚ä»è€Œäº§ç”Ÿäº†å†²çªã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>è®°å½•ä¸€æ¬¡curlçš„æŠ¥é”™</title>
      <link>https://heyuuuu77.github.io/posts/curl/</link>
      <pubDate>Tue, 03 Jun 2025 14:43:01 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/curl/</guid>
      <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$client_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;baidu.api_key&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$client_secret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;baidu.secret_key&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$token_url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://aip.baidubce.com/oauth/2.0/token&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$curl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;curl_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;curl_setopt_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$curl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;CURLOPT_URL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$token_url&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;?client_id=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$client_id&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;amp;client_secret=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$client_secret&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;amp;grant_type=client_credentials&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;CURLOPT_TIMEOUT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;CURLOPT_RETURNTRANSFER&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;CURLOPT_CUSTOMREQUEST&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;POST&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;CURLOPT_HTTPHEADER&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type: application/json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s1&#34;&gt;&amp;#39;Accept: application/json&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;curl_exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$curl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;curl_close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$curl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;json_decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;$response å§‹ç»ˆè¿”å› false, curl_error($curl) æ˜¾ç¤ºçš„æ˜¯ç©ºå­—ç¬¦ä¸² &amp;lsquo;&amp;rsquo;, curl_errno($curl) æ˜¾ç¤ºçš„77. æ²¡æœ‰å…¶ä»–ä»»ä½•ä¿¡æ¯ã€‚ curl_getinfo($curl) æ˜¾ç¤ºçš„éƒ½æ˜¯æ— æ•ˆä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢äº†å¾ˆå¤šï¼Œæœ‰çš„è¯´æ˜¯ sslè¯ä¹¦ caæ–‡ä»¶æŸåç­‰ã€‚ æœ€ç»ˆè§£å†³æ–¹å¼æ˜¯é‡å¯ php-fpm æœåŠ¡ã€‚ &lt;code&gt;sudo systemctl restart php-fpm&lt;/code&gt; å°±å¯ä»¥äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Advertiser</title>
      <link>https://heyuuuu77.github.io/posts/advertiser/</link>
      <pubDate>Mon, 14 Apr 2025 09:53:08 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/advertiser/</guid>
      <description>&lt;h4 id=&#34;å¹¿å‘Šçš„è®¡è´¹æ¨¡å¼æœ‰å“ªå‡ ç§&#34;&gt;å¹¿å‘Šçš„è®¡è´¹æ¨¡å¼æœ‰å“ªå‡ ç§&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;CPM (Cost Per Mile)åƒæ¬¡å±•ç¤ºè®¡è´¹&lt;/li&gt;
&lt;li&gt;CPC (Cost Per Click) ç‚¹å‡»æ”¶è´¹&lt;/li&gt;
&lt;li&gt;CPA (Cost Per Action) è¡ŒåŠ¨æ”¶è´¹ å¹¿å‘Šä¸»åœ¨ç”¨æˆ·å®ŒæˆæŸä¸ªç‰¹å®šè¡Œä¸ºæ‰ä¼šæ”¯ä»˜è´¹ç”¨&lt;/li&gt;
&lt;li&gt;CTP (Cost Per Time) æŒ‰æ—¶é•¿æ”¶è´¹&lt;/li&gt;
&lt;li&gt;CPI (Cost Per Install) æŒ‰å®‰è£…æ”¶è´¹ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ç°ä»£å¹¿å‘Šç³»ç»Ÿæ¶æ„&#34;&gt;ç°ä»£å¹¿å‘Šç³»ç»Ÿæ¶æ„&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¹¿å‘ŠæŠ•æ”¾å¹³å°ï¼ˆDSP, Demand-Side Platformï¼‰ å¹¿å‘Šä¸»é€šè¿‡DSPè¿›è¡ŒæŠ•æ”¾ï¼ŒDSPè´Ÿè´£ç«ä»·ï¼Œå®šå‘ï¼Œä¼˜åŒ–ç­‰åŠŸèƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¾›åº”æ–¹å¹³å°ï¼ˆSSP, Supply-Side Platformï¼‰ åª’ä½“æ–¹é€šè¿‡SSPç®¡ç†å¹¿å‘Šåº“å­˜ï¼Œå¹¿å‘Šåº“å­˜å°±æ˜¯å¹¿å‘Šä½ã€‚å¦‚æœè‡ªå·±å¼€å‘ä¸€ä¸ªappï¼Œæƒ³æ¥å¹¿å‘Šã€‚ä¸éœ€è¦è‡ªå·±æ‰¾å¹¿å‘Šä¸»ï¼Œç›´æ¥æŠŠå¹¿å‘Šä½å–ç»™SSPå°±è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¿å‘Šäº¤æ˜“å¸‚åœº(Ad Exchange), ä¸€ä¸ªå¼€å‘çš„å¹¿å‘Šç«ä»·å¹³å°ï¼Œé“¾æ¥DSPå’ŒSSPã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®ç®¡ç†å¹³å°(DMP, Data Managerment Platform), æ”¶é›†ï¼Œåˆ†æç”¨æˆ·æ•°æ®ï¼Œæé«˜å¹¿å‘Šå®šå‘èƒ½åŠ›ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¿å‘Šç›‘æµ‹å¹³å°(Ad Monitor), ç›‘æµ‹å¹¿å‘ŠæŠ•æ”¾æ•ˆæœï¼Œæ¯”å¦‚å¹¿å‘ŠæŠ•æ”¾çš„æ›å…‰é‡ï¼Œç‚¹å‡»é‡ï¼Œè½¬åŒ–ç­‰ï¼Œå½’å› åˆ†æã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Tcp_udp</title>
      <link>https://heyuuuu77.github.io/posts/tcp_udp/</link>
      <pubDate>Wed, 26 Mar 2025 17:17:34 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/tcp_udp/</guid>
      <description>&lt;p&gt;TCP/IPæ˜¯ä¸€ä¸ªåè®®ç°‡ï¼Œtcpåè®®(ä¼ è¾“æ§åˆ¶åè®®)ï¼Œudpåè®®(ç”¨æˆ·æ•°æ®åè®®)éƒ½åŒ…å«åœ¨å…¶ä¸­ï¼Œè¿˜æœ‰http(è¶…æ–‡æœ¬ä¼ è¾“åè®®), ftp(æ–‡æœ¬ä¼ è¾“åè®®), telnet(è¿œç¨‹ç™»å½•åè®®)ç­‰&lt;/p&gt;
&lt;p&gt;å…ˆè¯´ä¸€ä¸‹TCP/IPåè®®çš„4å±‚åè®®æ¨¡å‹ï¼Œè‡³ä¸Šå‘ä¸‹ä¾æ¬¡æ˜¯ï¼šåº”ç”¨å±‚,ä¼ è¾“å±‚ï¼Œç½‘ç»œå±‚ï¼Œç½‘ç»œæ¥å£å±‚ã€‚
æ‰©å±•æˆ OSIåè®®çš„7å±‚åè®®æ¨¡å‹ï¼Œæ˜¯æŠŠ åº”ç”¨å±‚æ‹†åˆ†æˆåº”ç”¨å±‚ï¼Œä¼šè¯å±‚ï¼Œè¡¨ç¤ºå±‚ã€‚ ç½‘ç»œæ¥å£å±‚æ‹†åˆ†ä¸º æ•°æ®é“¾è·¯å±‚ï¼Œç‰©ç†å±‚&lt;/p&gt;
&lt;p&gt;tcpåè®®å¯ä»¥ç†è§£æˆå¯é æ•°æ®ä¼ è¾“åè®®ï¼Œé¢å‘è¿æ¥çš„åè®®ã€‚ å»ºç«‹tcpè¿æ¥éœ€è¦3æ¬¡æ¡æ‰‹ï¼Œæ–­å¼€éœ€è¦4æ¬¡æŒ¥æ‰‹ã€‚
udpä¸éœ€è¦æå‰å»ºç«‹è¿æ¥ï¼Œæ˜¯é¢å‘æ— è¿æ¥çš„åè®®ï¼Œåªé¡¾å¾€ç½‘ç»œä¸Šä¼ è¾“ï¼Œæ¥æ”¶ç«¯è‡ªå·±ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è·å–ï¼Œåªæ˜¯å°½å¯èƒ½å‘é€ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Pythonç‰ˆæœ¬æ§åˆ¶å·¥å…· UV</title>
      <link>https://heyuuuu77.github.io/posts/python_uv/</link>
      <pubDate>Mon, 24 Mar 2025 11:43:50 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/python_uv/</guid>
      <description>&lt;h2 id=&#34;uv&#34;&gt;UV&lt;/h2&gt;
&lt;p&gt;å®˜ç½‘&lt;a href=&#34;https://docs.astral.sh/uv/&#34;&gt;åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå¾ˆå¥½ç”¨çš„pythoné¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§å‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;uv init [example]  å¯ä»¥åˆå§‹åŒ–é¡¹ç›®,ä¼šè‡ªåŠ¨åˆ›å»ºexample floder&lt;/li&gt;
&lt;li&gt;uv install python [version] å¯ä»¥å®‰è£…pythonç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;uv install å³å¯æ ¹æ® uv.lock æ–‡ä»¶å®‰è£…ä¾èµ–&lt;/li&gt;
&lt;li&gt;uv python list æ˜¾ç¤º python ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;uv venv &amp;ndash;python 3.12.0  å¯ä»¥åˆ›å»ºpythonçš„è™šæ‹Ÿç¯å¢ƒ&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Clickhouseæ€§èƒ½ä¹‹å·…</title>
      <link>https://heyuuuu77.github.io/posts/clickhouse%E6%80%A7%E8%83%BD%E4%B9%8B%E5%B7%85/</link>
      <pubDate>Mon, 24 Mar 2025 09:34:08 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/clickhouse%E6%80%A7%E8%83%BD%E4%B9%8B%E5%B7%85/</guid>
      <description>&lt;h3 id=&#34;day1&#34;&gt;Day1&lt;/h3&gt;
&lt;h4 id=&#34;oltp--olap&#34;&gt;OLTP &amp;amp; OLAP&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OLTP, OnLine Transaction Process è”æœºäº‹åŠ¡å¤„ç† (MySQL, PostgreSQL, Oracle)
OLTPä½¿ç”¨çš„æ˜¯é«˜åå¼çš„è¡¨ã€‚å¥½å¤„æ˜¯æ•°æ®ç»“æ„ä¸å®¹æ˜“ï¼Œäº‹åŠ¡å¤„ç†é€Ÿåº¦å¿«&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OLAP, OnLine Analyse Process è”æœºåˆ†æå¤„ç†(Hive, HBase, ClickHouse)
OLAPæ•°æ®åº“è¢«ç§°ä¸ºæ•°æ®ä»“åº“(æ•°ä»“), å®ƒæ˜¯åèŒƒå¼çš„ã€‚æ•°æ®å†—ä½™åº¦å¾ˆé«˜ï¼Œæ­£å› ä¸ºå¦‚æ­¤ã€‚å®ƒè¢«ç”¨åšæ•°æ®åˆ†æï¼Œå› ä¸ºå•ä¸ªå®½è¡¨å°±åŒ…å«äº†å¾ˆå¤šå­—æ®µï¼Œä¸éœ€è¦è¿›è¡Œè¿è¡¨(JOIN)æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç¬¬é›¶èŒƒå¼&#34;&gt;ç¬¬é›¶èŒƒå¼&lt;/h4&gt;
&lt;p&gt;ä¸éµå¾ªç¬¬ä¸€èŒƒå¼ï¼Œéƒ½è¢«ç§°ä¹‹ä¸ºç¬¬é›¶èŒƒå¼ï¼Œå³å­—æ®µä¸­å¯ä»¥å­˜å‚¨jsonæˆ–è€…æ–‡æ¡£&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬ä¸€èŒƒå¼&#34;&gt;ç¬¬ä¸€èŒƒå¼&lt;/h4&gt;
&lt;p&gt;æŒ‡æ•°æ®è¡¨ä¸­çš„æ¯ä¸ªå±æ€§éƒ½ä¸å¯å†æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;day2&#34;&gt;Day2&lt;/h3&gt;</description>
    </item>
    <item>
      <title>Leecode</title>
      <link>https://heyuuuu77.github.io/posts/leecode/</link>
      <pubDate>Tue, 18 Mar 2025 09:46:23 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/leecode/</guid>
      <description>&lt;h3 id=&#34;å°é•‡æ³•å®˜&#34;&gt;å°é•‡æ³•å®˜&lt;/h3&gt;
&lt;h5 id=&#34;é¢˜å¹²&#34;&gt;é¢˜å¹²&lt;/h5&gt;
&lt;p&gt;å°é•‡æœ‰ n ä¸ªäººï¼Œ å…¶ä¸­æœ‰ä¸€ä¸ªäººæ˜¯æ˜¯å°é•‡æ³•å®˜ã€‚å¦‚æœæ³•å®˜å­˜åœ¨ï¼Œé‚£ä¹ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»–ä¸ä¿¡ä»»ä»»ä½•äºº&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªäººï¼ˆé™¤äº†ä»–è‡ªå·±ï¼‰éƒ½ä¿¡ä»»ä»–&lt;/li&gt;
&lt;li&gt;åŒæ—¶æ»¡è¶³ 1 å’Œ 2&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªtrustæ•°ç»„ã€‚å…¶ä¸­ trust[i] = [ai, bi] è¡¨ç¤ºç¼–å·ä¸º ai çš„äººä¿¡ä»»ç¼–å·ä¸º bi çš„äºº
å¦‚æœå°é•‡æ³•å®˜å­˜åœ¨å¹¶ç¡®è®¤èº«ä»½ï¼Œè¿”å›æ³•å®˜ç¼–å·ï¼Œå¦åˆ™è¿”å› -1&lt;/p&gt;
&lt;h5 id=&#34;é¢˜è§£æ€è·¯&#34;&gt;é¢˜è§£æ€è·¯&lt;/h5&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨å›¾è§£çš„æ€è·¯å°±å¾ˆå¥½æ¥è¿™ä¸ªé¢˜ç›®
&lt;img alt=&#34;å°é•‡æ³•å®˜&#34; loading=&#34;lazy&#34; src=&#34;https://heyuuuu77.github.io/images/judge.jpg&#34;&gt;
å¼•å…¥ä¸¤ä¸ªæ¦‚å¿µå°±èƒ½å¾ˆå¥½çš„æŠ½è±¡è¿™ä¸ªé¢˜ï¼Œå¯¹äºå°é•‡çš„æŸä¸ªäººè€Œè¨€ï¼Œåˆ«äººä¿¡ä»»æˆ‘ï¼Œè¡¨ç¤ºå…¥åº¦ï¼Œæˆ‘ä¿¡ä»»åˆ«äººè¡¨ç¤ºå‡ºåº¦ã€‚ å› æ­¤ï¼Œå¯»æ‰¾å°é•‡æ³•å®˜çš„é¢˜ç›®å¯ä»¥æŠ½è±¡æˆï¼Œ æ³•å®˜çš„å…¥åº¦æ˜¯ n-1ï¼Œæ³•å®˜çš„å‡ºåº¦æ˜¯0.&lt;/p&gt;
&lt;h5 id=&#34;code&#34;&gt;code&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python3&#34; data-lang=&#34;python3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;collections&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Counter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;findJudge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;trust&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;outDegree&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;trust&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;inDegree&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;trust&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;outDegree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inDegree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;1348æ¨æ–‡è®¡æ•°&#34;&gt;1348.æ¨æ–‡è®¡æ•°&lt;/h4&gt;
&lt;h5 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h5&gt;
&lt;p&gt;ä¸€å®¶ç¤¾äº¤åª’ä½“å…¬å¸æ­£è¯•å›¾é€šè¿‡åˆ†æç‰¹å®šæ—¶é—´æ®µå†…å‡ºç°çš„æ¨æ–‡æ•°é‡æ¥ç›‘æ§å…¶ç½‘ç«™ä¸Šçš„æ´»åŠ¨ã€‚è¿™äº›æ—¶é—´æ®µå¯ä»¥æ ¹æ®ç‰¹å®šçš„é¢‘ç‡ï¼ˆ æ¯åˆ†é’Ÿ ã€æ¯å°æ—¶ æˆ– æ¯ä¸€å¤© ï¼‰åˆ’åˆ†ä¸ºæ›´å°çš„ æ—¶é—´æ®µ ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‘¨æœŸ [10,10000] ï¼ˆä»¥ ç§’ ä¸ºå•ä½ï¼‰å°†è¢«åˆ’åˆ†ä¸ºä»¥ä¸‹é¢‘ç‡çš„ æ—¶é—´å— :&lt;/p&gt;
&lt;p&gt;æ¯ åˆ†é’Ÿ (60ç§’ å—)ï¼š [10,69], [70,129], [130,189], &amp;hellip;, [9970,10000]
æ¯ å°æ—¶ (3600ç§’ å—)ï¼š[10,3609], [3610,7209], [7210,10000]
æ¯ å¤© (86400ç§’ å—)ï¼š [10,10000]
æ³¨æ„ï¼Œæœ€åä¸€ä¸ªå—å¯èƒ½æ¯”æŒ‡å®šé¢‘ç‡çš„å—å¤§å°æ›´çŸ­ï¼Œå¹¶ä¸”æ€»æ˜¯ä»¥æ—¶é—´æ®µçš„ç»“æŸæ—¶é—´ç»“æŸ(åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ä¸º 10000 )ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>åˆ†å¸ƒå¼ç³»ç»Ÿ</title>
      <link>https://heyuuuu77.github.io/posts/distributed_system/</link>
      <pubDate>Fri, 21 Feb 2025 08:46:57 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/distributed_system/</guid>
      <description>&lt;h3 id=&#34;åè¯è§£é‡Š&#34;&gt;åè¯è§£é‡Š&lt;/h3&gt;
&lt;h4 id=&#34;capç†è®º&#34;&gt;CAPç†è®º&lt;/h4&gt;
&lt;p&gt;è¯¥ç†è®ºæŒ‡å‡ºï¼Œä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä¸€ä¸‹ä¸‰ä¸ªç‰¹æ€§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€è‡´æ€§(Consistency): æ‰€æœ‰èŠ‚ç‚¹åŒä¸€æ—¶é—´çœ‹åˆ°çš„æ•°æ®æ˜¯ç›¸åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªæ•°æ®æ›´æ–°æ“ä½œåœ¨ç³»ç»Ÿçš„æŸä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡ŒæˆåŠŸåï¼Œåœ¨åç»­çš„ä»»ä½•èŠ‚ç‚¹ä¸Šè¿›è¡Œæ•°æ®è¯»å–æ“ä½œæ—¶ï¼Œéƒ½èƒ½è·å–åˆ°æ›´æ–°åçš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å¯ç”¨æ€§(Availability): ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªéæ•…éšœèŠ‚ç‚¹éƒ½èƒ½åœ¨åˆç†çš„æ—¶é—´å†…å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å³æ— è®ºä½•æ—¶ï¼Œå®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚éƒ½èƒ½å¾—åˆ°å“åº”ï¼Œä¸ä¼šå‡ºç°ç³»ç»Ÿä¸å¯ç”¨çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;åˆ†åŒºå®¹é”™æ€§(Partition tolerance): ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœæ—¶ï¼Œä»ç„¶èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§æˆ–å¯ç”¨æ€§çš„æœåŠ¡ã€‚ç½‘ç»œåˆ†åŒºæ˜¯æŒ‡ç”±äºç½‘ç»œé—®é¢˜å¯¼è‡´éƒ¨åˆ†èŠ‚ç‚¹ä¹‹é—´æ— æ³•é€šä¿¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;ç†è§£&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”±äºç½‘ç»œçš„ä¸ç¡®å®šæ€§ï¼Œåˆ†åŒºå®¹é”™æ€§æ˜¯å¿…é¡»è¦è€ƒè™‘çš„å› ç´ ï¼Œä¹Ÿå°±æ˜¯ P æ˜¯å¿…ç„¶å­˜åœ¨çš„ã€‚å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸éœ€è¦åœ¨ä¸€è‡´æ€§ï¼ˆCï¼‰å’Œå¯ç”¨æ€§ï¼ˆAï¼‰ä¹‹é—´åšå‡ºæƒè¡¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;CP ç³»ç»Ÿ&lt;/em&gt;ï¼šä¼˜å…ˆä¿è¯ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™æ€§ï¼Œç‰ºç‰²éƒ¨åˆ†å¯ç”¨æ€§ã€‚ä¾‹å¦‚ï¼ŒZooKeeper å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ CP ç³»ç»Ÿï¼Œå½“å‘ç”Ÿç½‘ç»œåˆ†åŒºæ—¶ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œç³»ç»Ÿå¯èƒ½ä¼šæš‚æ—¶ä¸å¯ç”¨ï¼Œç›´åˆ°åˆ†åŒºé—®é¢˜è§£å†³ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;AP ç³»ç»Ÿ&lt;/em&gt;ï¼šä¼˜å…ˆä¿è¯å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§ï¼Œç‰ºç‰²éƒ¨åˆ†ä¸€è‡´æ€§ã€‚æ¯”å¦‚ï¼ŒAmazon çš„ Dynamo ç³»ç»Ÿï¼Œå®ƒå…è®¸åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šçš„æ•°æ®å­˜åœ¨çŸ­æš‚çš„ä¸ä¸€è‡´ï¼Œä½†ä¿è¯ç³»ç»Ÿå§‹ç»ˆå¯ä»¥å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;baseç†è®º&#34;&gt;BASEç†è®º&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;å®šä¹‰&lt;/em&gt;
æ˜¯å¯¹ CAP ç†è®ºä¸­ AP æ–¹æ¡ˆçš„ä¸€ä¸ªæ‰©å±•å’Œå»¶ä¼¸ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ï¼Œä½†æ¯ä¸ªåº”ç”¨éƒ½å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ã€‚BASE æ˜¯ä¸‰ä¸ªçŸ­è¯­çš„ç¼©å†™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ï¼šæŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœæ—¶ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ï¼Œå³ä¿è¯æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ï¼Œä½†å¯èƒ½ä¼šå‡ºç°å“åº”æ—¶é—´å»¶é•¿ã€æœåŠ¡é™çº§ç­‰æƒ…å†µã€‚ä¾‹å¦‚ï¼Œåœ¨ç”µå•†å¤§ä¿ƒæœŸé—´ï¼Œç³»ç»Ÿå¯èƒ½ä¼šå¯¹ä¸€äº›éæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½è¿›è¡Œé™æµï¼Œä»¥ä¿è¯æ ¸å¿ƒçš„äº¤æ˜“åŠŸèƒ½æ­£å¸¸è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;è½¯çŠ¶æ€ï¼ˆSoft stateï¼‰ï¼šå…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå¹¶ä¸”è¿™ç§ä¸­é—´çŠ¶æ€ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿä¸­çš„æ•°æ®å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventual consistencyï¼‰ï¼šç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚æœ€ç»ˆä¸€è‡´æ€§æ˜¯ BASE ç†è®ºçš„æ ¸å¿ƒï¼Œå®ƒå¼ºè°ƒçš„æ˜¯æ•°æ®åœ¨ä¸€æ®µæ—¶é—´åä¼šè¾¾åˆ°ä¸€è‡´ï¼Œè€Œä¸æ˜¯å®æ—¶ä¸€è‡´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†å¸ƒå¼æ¡†æ¶&#34;&gt;åˆ†å¸ƒå¼æ¡†æ¶&lt;/h3&gt;
&lt;h4 id=&#34;spring-cloud&#34;&gt;Spring Cloud&lt;/h4&gt;
&lt;h4 id=&#34;dubbo&#34;&gt;Dubbo&lt;/h4&gt;
&lt;h4 id=&#34;grpc&#34;&gt;gRPC&lt;/h4&gt;
&lt;p&gt;é«˜æ€§èƒ½è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ¡†æ¶ã€‚æµå¼ä¼ è¾“ï¼Œæ”¯æŒå››ç§æµå¼ä¼ è¾“æ¨¡å¼ï¼šå®¢æˆ·ç«¯æµå¼ï¼ŒæœåŠ¡å™¨æµå¼ï¼ŒåŒå‘æµå¤±ï¼ŒRPCéæµå¼ã€‚
protobuf åºåˆ—åŒ–åè®®ï¼Œè·¨è¯­è¨€ï¼ŒProtobuf ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®å®šä¹‰æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆä¸åŒè¯­è¨€çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä»£ç ï¼Œå‡å°‘äº†æ‰‹åŠ¨ç¼–å†™ä»£ç çš„å·¥ä½œé‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;etcd&#34;&gt;etcd&lt;/h4&gt;
&lt;p&gt;é«˜å¯ç”¨çš„åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œå¯ç”¨äºé…ç½®å…±äº«å’ŒæœåŠ¡å‘ç°&lt;/p&gt;
&lt;h4 id=&#34;å¦‚ä½•æ­å»ºä¸€ä¸ªæ”¯æŒé«˜å¹¶å‘çš„ç³»ç»Ÿ&#34;&gt;å¦‚ä½•æ­å»ºä¸€ä¸ªæ”¯æŒé«˜å¹¶å‘çš„ç³»ç»Ÿ&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆä»å¤šæ–¹é¢å»è€ƒè™‘ï¼Œ&lt;/p&gt;
&lt;h5 id=&#34;åˆ†å¸ƒå¼é€‰å‹&#34;&gt;åˆ†å¸ƒå¼é€‰å‹&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;æ¨ªå‘æ‰©å±•: K8Séƒ¨ç½²å¤šä¸ªæœåŠ¡ç¤ºä¾‹ï¼ŒNginxè´Ÿè½½å‡è¡¡ï¼ŒK8S HPAå¯ä»¥è‡ªåŠ¨å¼¹æ€§æ‰©ç¼©å®¹ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡æ‹†åˆ†: å¾®æœåŠ¡æ‹†åˆ†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä¸»æµçš„rpcæ¡†æ¶&#34;&gt;ä¸»æµçš„RPCæ¡†æ¶&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Apache Dubbo
é˜¿é‡Œå¼€æº&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gRPC
google å¼€æºã€‚ protobufæ”¯æŒ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶&#34;&gt;åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Hadoop MapReduce
æ—¥å¿—åˆ†æã€ETLç­‰ç¦»çº¿ä»»åŠ¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>è®¾è®¡æ¨¡å¼ä¹‹ç¾</title>
      <link>https://heyuuuu77.github.io/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/</link>
      <pubDate>Fri, 14 Feb 2025 09:32:22 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/</guid>
      <description>&lt;h4 id=&#34;é¢å‘å¯¹è±¡&#34;&gt;é¢å‘å¯¹è±¡&lt;/h4&gt;
&lt;p&gt;é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯å› ä¸ºå…¶å…·æœ‰ä¸°å¯Œçš„ç‰¹æ€§(å°è£…ï¼ŒæŠ½è±¡ï¼Œç»§æ‰¿ï¼Œå¤šæ€)ï¼Œå¯ä»¥å®ç°å¾ˆå¤šå¤æ‚çš„è®¾è®¡æ€è·¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è®¾è®¡åŸåˆ™&#34;&gt;è®¾è®¡åŸåˆ™&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SOLIDåŸåˆ™ - SRP å•ä¸€èŒè´£åŸåˆ™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SOLIDåŸåˆ™ - OCP å¼€é—­åŸåˆ™(å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SOLIDåŸåˆ™ - LSP é‡Œå¼æ›¿æ¢åŸåˆ™: &lt;br&gt;
&lt;strong&gt;è§£é‡Šï¼š&lt;/strong&gt; æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»å¯¹è±¡å¯ä»¥æ›¿æ¢æ‰å®ƒä»¬çš„åŸºç±»å¯¹è±¡ï¼Œè€Œç¨‹åºçš„è¡Œä¸ºä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚&lt;br&gt;
&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt; åœ¨ä¸€ä¸ªæ¸¸æˆä¸­æœ‰ä¸€ä¸ªåŠ¨ç‰©ç±»ï¼Œé¸Ÿç±»ç»§æ‰¿è‡ªåŠ¨ç‰©ç±»ã€‚å¦‚æœåœ¨æ¸¸æˆä¸­éœ€è¦ä½¿ç”¨åŠ¨ç‰©ç±»çš„æŸä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆä½¿ç”¨é¸Ÿç±»å¯¹è±¡æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ä¹Ÿåº”è¯¥èƒ½æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç°æ„å¤–çš„ç»“æœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SOLIDåŸåˆ™ - ISP æ¥å£éš”ç¦»åŸåˆ™ &lt;br&gt;
&lt;strong&gt;è§£é‡Šï¼š&lt;/strong&gt; å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå³ä¸€ä¸ªæ¥å£åº”è¯¥åªåŒ…å«å®¢æˆ·ç«¯çœŸæ­£éœ€è¦çš„æ–¹æ³•ï¼Œè€Œä¸åº”è¯¥åŒ…å«ä¸€äº›æ— å…³çš„æ–¹æ³•ã€‚&lt;br&gt;
&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt; åœ¨ä¸€ä¸ªæ¸¸æˆå¼€å‘ä¸­ï¼Œæœ‰ä¸€ä¸ªæ¸¸æˆæ§åˆ¶å™¨æ¥å£ï¼Œå…¶ä¸­åªåº”è¯¥åŒ…å«ä¸æ¸¸æˆæ§åˆ¶ç›¸å…³çš„æ–¹æ³•ï¼Œå¦‚å¼€å§‹æ¸¸æˆã€æš‚åœæ¸¸æˆç­‰ï¼Œè€Œä¸åº”è¯¥åŒ…å«ä¸æ¸¸æˆç”»é¢æ¸²æŸ“ç­‰æ— å…³çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SOLIDåŸåˆ™ - DIP ä¾èµ–å€’ç½®åŸåˆ™ &lt;br&gt;
&lt;strong&gt;è§£é‡Šï¼š&lt;/strong&gt; é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚å³è¦é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚&lt;br&gt;
&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt; åœ¨ä¸€ä¸ªæ¸¸æˆå¼€å‘ä¸­ï¼Œæ¸¸æˆçš„ä¸šåŠ¡é€»è¾‘æ¨¡å—æ˜¯é«˜å±‚æ¨¡å—ï¼Œæ¸¸æˆçš„åº•å±‚æ¸²æŸ“æ¨¡å—æ˜¯ä½å±‚æ¨¡å—ã€‚ä¸šåŠ¡é€»è¾‘æ¨¡å—ä¸åº”è¯¥ç›´æ¥ä¾èµ–åº•å±‚æ¸²æŸ“æ¨¡å—çš„å…·ä½“å®ç°ï¼Œè€Œæ˜¯åº”è¯¥ä¾èµ–ä¸€ä¸ªæŠ½è±¡çš„æ¸²æŸ“æ¥å£ï¼Œåº•å±‚æ¸²æŸ“æ¨¡å—å®ç°è¿™ä¸ªæ¥å£ã€‚è¿™æ ·ï¼Œå½“éœ€è¦æ›´æ¢åº•å±‚æ¸²æŸ“å¼•æ“æ—¶ï¼Œåªéœ€è¦æ›´æ¢å®ç°æ¸²æŸ“æ¥å£çš„ç±»ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¸šåŠ¡é€»è¾‘æ¨¡å—çš„ä»£ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DRYåŸåˆ™(Don&amp;rsquo;t Repeat Yourself)ã€ KISSåŸåˆ™ã€ YAGNIåŸåˆ™(You Aren&amp;rsquo;t Gonna Need It)ã€ LODæ³•åˆ™(Law Of Demete)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;è®¾è®¡æ¨¡å¼&#34;&gt;è®¾è®¡æ¨¡å¼&lt;/h4&gt;
&lt;p&gt;ç»å…¸çš„23ç§è®¾è®¡æ¨¡å¼ï¼Œåˆ†ä¸ºåˆ›å»ºå‹ï¼Œç»“æ„å‹ï¼Œè¡Œä¸ºå‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºå‹: (5)
&lt;strong&gt;å¸¸ç”¨&lt;/strong&gt; å•ä¾‹æ¨¡å¼ã€å·¥å‚æ¨¡å¼(å·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚)ã€å»ºé€ è€…æ¨¡å¼ (4)
&lt;strong&gt;ä¸å¸¸ç”¨&lt;/strong&gt; åŸå‹æ¨¡å¼ (1)&lt;/p&gt;
&lt;p&gt;åˆ›å»ºå‹æ¨¡å¼ä¸»è¦è§£å†³å¯¹è±¡çš„åˆ›å»ºé—®é¢˜ï¼Œå°è£…å¤æ‚çš„åˆ›å»ºè¿‡ç¨‹ï¼Œè§£å¶å¯¹è±¡çš„åˆ›å»ºä»£ç å’Œä½¿ç”¨ä»£ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»“æ„å‹: (7)
&lt;strong&gt;å¸¸ç”¨&lt;/strong&gt; ä»£ç†æ¨¡å¼ã€ æ¡¥æ¥æ¨¡å¼ã€ è£…é¥°è€…æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ (4)
&lt;strong&gt;ä¸å¸¸ç”¨&lt;/strong&gt; é—¨é¢æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼ (3)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¡Œä¸ºå‹: (11)
&lt;strong&gt;å¸¸ç”¨&lt;/strong&gt; è§‚å¯Ÿè€…æ¨¡å¼ã€æ¨¡ç‰ˆæ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ (6)
&lt;strong&gt;ä¸å¸¸ç”¨&lt;/strong&gt; è®¿é—®è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€ä¸­ä»‹æ¨¡å¼ (5)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®æˆ˜ç¬”è®°</title>
      <link>https://heyuuuu77.github.io/posts/go/</link>
      <pubDate>Thu, 13 Feb 2025 10:20:34 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/go/</guid>
      <description>&lt;h5 id=&#34;å¼•ç”¨ç±»å‹&#34;&gt;å¼•ç”¨ç±»å‹&lt;/h5&gt;
&lt;p&gt;é€šé“(channel)ã€ æ˜ å°„(map)ã€ åˆ‡ç‰‡(slice)&lt;/p&gt;
&lt;h4 id=&#34;sync&#34;&gt;sync&lt;/h4&gt;
&lt;p&gt;sync åŒ…æä¾›åŒæ­¥ goroutine çš„åŠŸèƒ½ã€‚ åœ¨Goè¯­è¨€ä¸­ï¼Œ mainç»ˆæ­¢åˆ™ä»£è¡¨äº†ç¨‹åºç»ˆæ­¢ï¼Œ mainå‡½æ•°ç»ˆæ­¢å‰è¿˜ä¼šå…³é—­æ‰€æœ‰ä¹‹å‰å¯åŠ¨ä¸”è¿è¡Œçš„ goroutineã€‚
å¹¶å‘å†™ç¨‹åºæ—¶ï¼Œæœ€ä½³åšæ³•æ˜¯ åœ¨mainå‡½æ•°è¿”å›å‰ï¼Œæ¸…ç†å¹¶ç»ˆæ­¢æ‰€æœ‰ä¹‹å‰å¯åŠ¨çš„ goroutineã€‚ç¼–å†™å¯åŠ¨å’Œç»ˆæ­¢éƒ½æ¸…æ™°çš„ç¨‹åºï¼Œå‡å°‘bugï¼Œé˜²æ­¢èµ„æºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;sync åŒ…çš„ WaitGroup ä¼šè·Ÿè¸ªæ‰€æœ‰å¯åŠ¨çš„ goroutineã€‚ WaitGroup æ˜¯ä¸€ä¸ªè®¡æ•°ä¿¡å·é‡ï¼Œç”¨æ¥ç»Ÿè®¡æ¯ä¸ª goroutine æ˜¯å¦å®Œæˆäº†å·¥ä½œã€‚
å…·ä½“åšæ³•æ˜¯: å°† WaitGroup çš„å˜é‡å€¼è®¾ç½®ä¸ºè¦å¯åŠ¨çš„ goroutine æ•°é‡ã€‚ æ¯ä¸ª goroutine å®Œæˆå·¥ä½œåï¼Œ é€’å‡ WaitGroup å˜é‡çš„è®¡æ•°å€¼ã€‚
å½“è¿™ä¸ªå€¼ä¸º0ï¼Œå°±çŸ¥é“æ‰€æœ‰çš„ goroutine éƒ½å®Œæˆäº†å·¥ä½œã€‚&lt;/p&gt;
&lt;h5 id=&#34;å‘½åè§„èŒƒ&#34;&gt;å‘½åè§„èŒƒ&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;å‘½åæ¥å£æ—¶ï¼Œå¦‚æœæ¥å£å†…å°±ä¸€ä¸ªæ–¹æ³•ï¼Œéœ€è¦ä»¥ er ç»“å°¾ã€‚ å¦‚ Matcherã€‚ å¦‚æœæ¥å£ç±»å‹å†…éƒ¨å£°æ˜äº†å¤šä¸ªæ–¹æ³•ï¼Œå…¶åå­—éœ€è¦ä¸å…¶è¡Œä¸ºå…³è”&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æœ€ä½³å®è·µ&#34;&gt;æœ€ä½³å®è·µ&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå£°æ˜å‡½æ•°çš„æ—¶å€™å¸¦æœ‰æ¥æ”¶è€…ï¼Œåˆ™æ„å‘³ç€å£°æ˜äº†ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå’ŒæŒ‡å®šçš„æ¥æ”¶è€…ç±»å‹ç»‘å®šåœ¨ä¸€èµ·ã€‚
å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ä½œä¸ºæ¥æ”¶è€…çš„æ–¹æ³•ï¼Œåœ¨è°ƒç”¨æ—¶ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç¼–ç /è§£ç å¯¹åº”çš„ç±»å‹ï¼Œç„¶åä¼ é€’ç»™æ–¹æ³•ã€‚ä¾‹å¦‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-golang&#34; data-lang=&#34;golang&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// æ–¹æ³•å£°æ˜ä¸ºä½¿ç”¨ defaultMatcher ç±»å‹çš„å€¼ä½œä¸ºæ¥æ”¶è€…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;defaultMatch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;feed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Feed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;stringTerm&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// å£°æ˜ä¸€ä¸ªæŒ‡å‘ defaultMatcherç±»å‹å€¼çš„æŒ‡é’ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;dm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;defaultMatch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// ç¼–è¯‘å™¨ä¼šè§£å¼€dmæŒ‡é’ˆçš„å¼•ç”¨ï¼Œä½¿ç”¨å¯¹åº”çš„å€¼è°ƒç”¨æ–¹æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;dm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;feed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// æ–¹æ³•å£°æ˜ä¸ºä½¿ç”¨æŒ‡å‘defaultMatcherç±»å‹å€¼çš„æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;defaultMatcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;feed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Feed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;searchTerm&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// å£°æ˜ä¸€ä¸ªdefaultMatcherç±»å‹çš„å€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dm&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;defaultMatch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”ŸæˆæŒ‡é’ˆå¼•ç”¨dmå€¼ï¼Œä½¿ç”¨æŒ‡é’ˆè°ƒç”¨æ–¹æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;dm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;feed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ç›´æ¥é€šè¿‡å€¼æˆ–è€…æŒ‡é’ˆè°ƒç”¨ä¸åŒï¼Œ å¦‚æœé€šè¿‡æ¥å£ç±»å‹çš„å€¼è°ƒç”¨æ–¹æ³•ï¼Œè§„åˆ™æœ‰å¾ˆå¤§ä¸åŒã€‚
1. ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…å£°æ˜çš„æ–¹æ³•ï¼Œåªèƒ½åœ¨æ¥å£ç±»å‹çš„å€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆçš„æ—¶å€™è¢«è°ƒç”¨ã€‚
2. ä½¿ç”¨å€¼ä½œä¸ºæ¥æ”¶è€…å£°æ˜çš„æ–¹æ³•ï¼Œåœ¨æ¥å£ç±»å‹çš„å€¼ä¸ºå€¼æˆ–è€…æŒ‡é’ˆæ—¶ï¼Œéƒ½å¯ä»¥è¢«è°ƒç”¨ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kafka</title>
      <link>https://heyuuuu77.github.io/posts/kafka/</link>
      <pubDate>Wed, 12 Feb 2025 19:36:38 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/kafka/</guid>
      <description>&lt;h4 id=&#34;kafka&#34;&gt;Kafka&lt;/h4&gt;
&lt;p&gt;åˆ†å¸ƒå¼çš„æ¶ˆæ¯å¼•æ“ç³»ç»Ÿ&lt;/p&gt;
&lt;h4 id=&#34;åè¯è§£é‡Š&#34;&gt;åè¯è§£é‡Š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ¶ˆæ¯(Record): Kafkaå¤„ç†çš„å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;ä¸»é¢˜(Topic): æ‰¿è½½æ¶ˆæ¯çš„å®¹å™¨ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªä¸šåŠ¡ã€åº”ç”¨ç”šè‡³æ¯ç±»æ•°æ®éƒ½åˆ›å»ºä¸“å±ä¸»é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†åŒº(Partition): ä¸€ä¸ªæœ‰åºä¸å˜çš„æ¶ˆæ¯åºåˆ—ï¼Œå°†æ¯ä¸ªä¸»é¢˜åˆ’åˆ†æˆå¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºæ˜¯ä¸€ç»„æœ‰åºçš„æ¶ˆæ¯æ—¥å¿—ã€‚Kafkaåˆ†åŒºç¼–å·ä»0å¼€å§‹ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯ä½ç§»(Offset): åˆ†åŒºä¸­æ¯æ¡æ¶ˆæ¯çš„ä½ç½®ä¿¡æ¯ï¼Œå•è°ƒé€’å¢ä¸”ä¸å˜çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å‰¯æœ¬(Replica): åˆåˆ†ä¸ºé¢†å¯¼è€…å‰¯æœ¬(Leader Replica) å’Œè¿½éšè€…å‰¯æœ¬(Follower Replica)ã€‚ å‰è€…å¯¹å¤–æä¾›æœåŠ¡ï¼ŒæŒ‡ä¸å®¢æˆ·ç«¯ç¨‹åºäº¤äº’ã€‚åè€…è¢«åŠ¨è¿½éšï¼Œä¸ä¸å¤–ç•Œè¿›è¡Œäº¤äº’ã€‚
å‰¯æœ¬çš„å·¥ä½œæœºåˆ¶: ç”Ÿäº§è€…æ€»æ˜¯å‘é¢†å¯¼è€…å‰¯æœ¬å†™æ¶ˆæ¯ï¼›è€Œæ¶ˆè´¹è€…æ€»æ˜¯ä»é¢†å¯¼è€…å‰¯æœ¬è¯»æ¶ˆæ¯ã€‚ è¿½éšè€…å‰¯æœ¬å‘é¢†å¯¼è€…å‰¯æœ¬å‘é€è¯·æ±‚ï¼Œè¯·æ±‚é¢†å¯¼è€…æŠŠæœ€æ–°ç”Ÿäº§çš„æ¶ˆæ¯å‘ç»™å®ƒã€‚è¿™æ ·å®ƒå°±å¯ä»¥è·Ÿé¢†å¯¼è€…åŒæ­¥ã€‚&lt;/li&gt;
&lt;li&gt;ç”Ÿäº§è€…(Producer): å‘ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºç§°ä¹‹ä¸ºç”Ÿäº§è€…ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹è€…(Consumer): å®šäºä¸»é¢˜æ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹è€…ä½ç§»(Consumer Offset): è¡¨å¾æ¶ˆè´¹è€…æ¶ˆè´¹è¿›åº¦ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„æ¶ˆè´¹è€…ä½ç§»ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹è€…ç»„(Consumer Group): å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å…±åŒç»„æˆä¸€ä¸ªç»„ï¼ŒåŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºä»¥å®ç°é«˜ååã€‚&lt;/li&gt;
&lt;li&gt;é‡å¹³è¡¡(Rebalance): æ¶ˆè´¹è€…ç»„å†…æŸä¸ªæ¶ˆè´¹è€…å®ä¾‹æŒ‚æ‰åï¼Œå…¶ä»–æ¶ˆè´¹è€…å®ä¾‹è‡ªåŠ¨é‡æ–°åˆ†é…è®¢é˜…ä¸»é¢˜åˆ†åŒºçš„è¿‡ç¨‹ã€‚Rebalance æ˜¯ã€‚Kafka æ¶ˆè´¹è€…ç«¯å®ç°é«˜å¯ç”¨çš„é‡è¦æ‰‹æ®µã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯(Clients): ç”Ÿäº§è€…/æ¶ˆè´¹è€…ç»Ÿç§°ä¸ºå®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;Broker: Kafkaçš„æœåŠ¡å™¨ç«¯ç”±Brokerçš„æœåŠ¡è¿›ç¨‹æ„æˆï¼Œå³ä¸€ä¸ªKafkaé›†ç¾¤ç”±å¤šä¸ªBrokerç»„æˆï¼ŒBrokerè´Ÿè´£æ¥æ”¶å’Œå¤„ç†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œä»¥åŠå¯¹æ¶ˆæ¯æŒä¹…åŒ–&lt;/li&gt;
&lt;li&gt;å¤‡ä»½æœºåˆ¶(Replication): å°†ç›¸åŒæ•°æ®æ‹·è´åˆ°å¤šå°æœºå™¨ä¸Šï¼Œè¿™äº›ç›¸åŒæ•°æ®æ‹·è´åœ¨Kafkaä¸­è¢«ç§°ä¸ºå‰¯æœ¬(Replica)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯ä¸ªåˆ†åŒºéƒ½å¯ä»¥é…ç½®è‹¥å¹²ä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­åªèƒ½æœ‰1ä¸ªé¢†å¯¼è€…å‰¯æœ¬å’Œ N-1ä¸ªè¿½éšè€…å‰¯æœ¬ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸‰å±‚æ¶ˆæ¯æ¶æ„&#34;&gt;ä¸‰å±‚æ¶ˆæ¯æ¶æ„&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»é¢˜å±‚: æ¯ä¸ªä¸»é¢˜é…ç½® M ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºåˆå¯ä»¥é…ç½® N ä¸ªå‰¯æœ¬ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†åŒºå±‚: æ¯ä¸ªåˆ†åŒºçš„ N ä¸ªå‰¯æœ¬åªæœ‰ä¸€ä¸ªé¢†å¯¼è€…ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼Œ å…¶ä»– N-1 ä¸ªå‰¯æœ¬æ˜¯è¿½éšè€…å‰¯æœ¬ï¼Œ æŒ‡ç¤ºæä¾›æ•°æ®å¤‡ä»½ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯å±‚: åˆ†åŒºä¸­åŒ…æ‹¬è‹¥å¹²æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯çš„ä½ç§»ä»0å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ã€‚ æœ€ç»ˆå®¢æˆ·ç«¯æ˜¯èƒ½ä¸åˆ†åŒºé¢†å¯¼è€…å‰¯æœ¬è¿›è¡Œäº¤äº’ã€‚&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Hugo</title>
      <link>https://heyuuuu77.github.io/posts/hugo/</link>
      <pubDate>Sat, 08 Feb 2025 17:06:08 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/hugo/</guid>
      <description>&lt;p&gt;ä½¿ç”¨Hugoæ­å»º github pageè¶Šåˆ°çš„å‘ã€‚ é¦–å…ˆ hugo å‘½ä»¤ä¼šç”Ÿæˆé™æ€æ–‡ä»¶ã€‚
æœ¬åœ°æŸ¥çœ‹çš„æ—¶å€™æ‰§è¡Œçš„å‘½ä»¤æ˜¯ &lt;code&gt;hugo server&lt;/code&gt;ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œè‰ç¨¿æ˜¯ä¸ä¼šæš‚æ—¶å‡ºæ¥çš„ã€‚å¦‚æœéœ€è¦æš‚æ—¶è‰ç¨¿ï¼Œ éœ€è¦åŠ ä¸Šå‚æ•° &lt;code&gt;-D&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºæ–°çš„æ–‡ç« çš„å‘½ä»¤æ˜¯: &lt;code&gt;hugo new posts/your-post-name.md&lt;/code&gt;. æ³¨æ„è¿™ä¸ªæ—¶å€™è‡ªåŠ¨ç”Ÿæˆçš„ markdownæ–‡ä»¶ä¸­çš„ draft é»˜è®¤ä¸ºtrueï¼Œè¡¨ç¤ºå½“å‰æ˜¯è‰ç¨¿æ¨¡å¼ã€‚
å¦‚æœè¦å¯ä»¥è§ï¼Œéœ€è¦å°†å…¶è®¾ç½®æˆfalseã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥å¦‚æœæœ¬åœ°çœ‹äº†æ²¡é—®é¢˜ï¼Œé‡ç‚¹æ˜¯éœ€è¦å…³é—­æœ¬åœ°æœåŠ¡, å³&lt;code&gt;hugo server&lt;/code&gt; æ‰“å¼€çš„æœåŠ¡ï¼Œå¹¶é‡æ–°æ‰§è¡Œ&lt;code&gt;hugo&lt;/code&gt;ã€‚
ä¸è¿™æ ·åšï¼Œhugoä¼šå°†publicä¸‹çš„é™æ€æ–‡ä»¶å…¨éƒ¨ç¼–è¯‘æˆæœ¬åœ°ã€‚ è¿™æ—¶å€™æäº¤åˆ°githubï¼Œé™æ€æ–‡ä»¶çš„è·³è½¬é“¾æ¥ä¼šä¹±æ‰ã€‚å…¨éƒ¨æŒ‡å‘æœ¬åœ°é“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;æäº¤è‡³github pageæ—¶ï¼Œä¸ç”¨æŠŠhugoé¡¹ç›®å…¨éƒ¨æäº¤ä¸Šå»ï¼Œè€Œæ˜¯è¿›å…¥åˆ°hugoé¡¹ç›®çš„public è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œgit initï¼Œ ç„¶åæ·»åŠ  remoteã€‚ åœ¨æäº¤å°±OKäº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>Interview</title>
      <link>https://heyuuuu77.github.io/posts/interview/</link>
      <pubDate>Sat, 08 Feb 2025 16:55:54 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/interview/</guid>
      <description>&lt;!-- ### è®°å½•ä¸€ä¸‹é¢è¯• --&gt;
&lt;!-- ##### é¢è¯•è‰è‰ä¸ -- å¤±è´¥ --&gt;
&lt;p&gt;&lt;code&gt;å¤±è´¥ç†ç”±:&lt;/code&gt; å„æ–¹é¢è¿˜ä¸é”™ï¼Œä½†æ˜¯æœ‰æ›´åˆé€‚çš„äººé€‰ã€‚&lt;/p&gt;
&lt;p&gt;çŸ¥é“è¿™åªæ˜¯é‚£è¾¹çš„æ¯”è¾ƒå§”å©‰çš„è¡¨è¾¾ã€‚ ä¸€é¢æ€»ä½“æ¥è¯´æ²¡èŠä»€ä¹ˆæŠ€æœ¯é—®é¢˜ã€‚èŠäº†ä¸€äº›ä¸šåŠ¡ç›¸å…³çš„ã€‚
æ¯”è¾ƒæ„æƒ³ä¸åˆ°çš„æé—®æ˜¯ï¼š å¦‚æœæˆ‘æ˜¯ä¸šåŠ¡æ–¹ï¼Œæˆ‘ä¼šæ¯”è¾ƒçœ‹é‡å“ªäº›æŒ‡æ ‡ã€‚ è¿™ä¸ªé—®é¢˜æˆ‘æ˜¯æ¯”è¾ƒé”™æ„•çš„ï¼Œæˆ‘é¢è¯•çš„æ˜¯æŠ€æœ¯å¼€å‘å²—ä½ï¼Œä¸€èˆ¬è´Ÿè´£çš„æ˜¯å…·ä½“çš„åŠŸèƒ½è½åœ°ç­‰ç›¸å…³æŠ€æœ¯æ›´å¤šã€‚
å€’ä¹Ÿä¸æ˜¯å®Œå…¨ä¸å…³å¿ƒä¸šåŠ¡ï¼Œåªæ˜¯æœ‰äº›å¤ªåå‘ä¸šåŠ¡ç†è§£äº†ã€‚æ›´å¤šçš„æ˜¯åƒé¢è¯•æ•°æ®åˆ†æå¸ˆ/å¸‚åœºæŠ•æ”¾ä¸šåŠ¡ç›¸å…³çš„å²—ä½ã€‚
ä¸ªäººç†è§£æ˜¯çœ‹é‡å“ªäº›æŒ‡æ ‡æ˜¯è¦çœ‹å…·ä½“çš„ç›®çš„ï¼Œæ•´ä½“çœ‹ä¸€æ®µæ—¶é—´å†…çš„å¹¿å‘Šæƒ…å†µå¯èƒ½ä¼šæ¯”è¾ƒçœ‹é‡ROIã€‚çœ‹æŸäº›ç‰¹å®šçš„å¹¿å‘Šæ•ˆæœï¼Œå¯èƒ½ä¼šçœ‹CPIï¼ŒCPMè¿™äº›æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€é¢æ€»ä½“æ¯”è¾ƒæ— å¥ˆï¼Œç”¨çš„ç¼–ç¨‹è¯­è¨€æ˜¯Pythonï¼Œéƒ½æ²¡æœ‰åˆ°æ¯”è¾ƒæ·±å…¥çš„æŠ€æœ¯é—®é¢˜ã€‚å¤§å¤šæ˜¯ä¸€äº›æ¯”è¾ƒæ„è¯†æµçš„ç†è§£ã€‚ å‡†å¤‡çš„å¾ˆå¤šçŸ¥è¯†ä¹Ÿæ²¡ç”¨ä¸Šï¼Œä¸è¿‡è¿™äº›éƒ½æ˜¯ç§¯ç´¯ï¼Œç”¨ä¸ä¸Šä¹Ÿè¿˜æ˜¯æˆ‘è‡ªå·±çš„çŸ¥è¯†ã€‚æ„Ÿè§‰å¥½å¯æƒœï¼Œéå¸¸å–œæ¬¢è‰è‰ä¸è¿™å®¶å…¬å¸ã€‚
å¾ˆé‡è§†è¿™æ¬¡é¢è¯•ï¼Œä¸ºæ­¤è¿˜ä¸“é—¨è¯·äº†åŠå¤©å‡åœ¨å®¶é¢è¯•ã€‚è¿˜åœ¨è¯•ç”¨æœŸï¼Œæ‰£äº†åŠå¤©çš„å·¥èµ„ã€‚å”‰ï¼Œæœç„¶æœŸå¾…è¶Šé«˜ï¼Œå¤±è´¥ä¹‹åè¶Šéš¾è¿‡ã€‚æœ‰ç‚¹å‚»&lt;/p&gt;
&lt;p&gt;å”‰ã€‚ åé¢æ³¢å…‹åŸå¸‚æœ‰ç±»ä¼¼çš„å²—ä½ã€‚ç®€å†é€åˆ°ç”¨äººéƒ¨é—¨è¿‡leaderç­›é€‰äº†ã€‚å¸Œæœ›èƒ½æœ‰åé¦ˆã€‚&lt;/p&gt;
&lt;p&gt;å¿ƒæƒ…ï¼šéå¸¸æœ‰æŒ«è´¥æ„Ÿ ğŸ’”
&amp;mdash;- è®°å½•äº 2025-02-08 16:55.&lt;/p&gt;
&lt;h1 id=&#34;2025-06-11-é¢è¯•çŸ¥è¯†ç‚¹æ±‡æ€»&#34;&gt;2025-06-11 é¢è¯•çŸ¥è¯†ç‚¹æ±‡æ€»&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Djangoçš„å¸¸è§é—®é¢˜</title>
      <link>https://heyuuuu77.github.io/posts/django/</link>
      <pubDate>Wed, 05 Feb 2025 11:09:45 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/django/</guid>
      <description>&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯orm&#34;&gt;ä»€ä¹ˆæ˜¯ORM&lt;/h4&gt;
&lt;p&gt;ORM å³å¯¹è±¡å…³ç³»æ˜ å°„ï¼Œå®ƒå°†æ•°æ®åº“ä¸­çš„è¡¨æ˜ å°„ä¸º Python ç±»ï¼Œå°†è¡¨ä¸­çš„è®°å½•æ˜ å°„ä¸ºç±»çš„å®ä¾‹ï¼Œé€šè¿‡æ“ä½œç±»å’Œå®ä¾‹æ¥æ“ä½œæ•°æ®åº“ã€‚ä¼˜ç‚¹åŒ…æ‹¬æé«˜å¼€å‘æ•ˆç‡ã€å¯ç§»æ¤æ€§å¼ºã€å®‰å…¨æ€§é«˜ï¼ˆè‡ªåŠ¨å¤„ç† SQL æ³¨å…¥ï¼‰ç­‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯-n1é—®é¢˜&#34;&gt;ä»€ä¹ˆæ˜¯ N+1é—®é¢˜&lt;/h4&gt;
&lt;p&gt;Django çš„ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰ä¸ºå¼€å‘è€…æä¾›äº†ä¾¿æ·çš„æ•°æ®åº“æ“ä½œæ–¹å¼ï¼Œå…è®¸é€šè¿‡ Python å¯¹è±¡æ¥æ“ä½œæ•°æ®åº“ã€‚ç„¶è€Œï¼Œå½“è¿›è¡Œå…³è”æŸ¥è¯¢æ—¶ï¼Œå¦‚æœå¤„ç†ä¸å½“ï¼Œå°±å®¹æ˜“å¼•å‘ N + 1 æŸ¥è¯¢é—®é¢˜ã€‚å…¶æ ¸å¿ƒåŸå› åœ¨äºï¼Œåœ¨è¿›è¡Œå¤šæ¬¡æŸ¥è¯¢æ—¶ï¼Œæ²¡æœ‰ä¸€æ¬¡æ€§è·å–æ‰€æœ‰å…³è”æ•°æ®ï¼Œè€Œæ˜¯å…ˆæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢è·å–ä¸»å¯¹è±¡åˆ—è¡¨ï¼Œç„¶åé’ˆå¯¹æ¯ä¸ªä¸»å¯¹è±¡ï¼Œå†åˆ†åˆ«æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢æ¥è·å–å…¶å…³è”å¯¹è±¡ï¼Œè¿™å°±å¯¼è‡´æŸ¥è¯¢æ¬¡æ•°è¿‡å¤šï¼Œæ€§èƒ½ä¸‹é™ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´å°±æ˜¯å¤šè¡¨å…³è”çš„æ—¶å€™ï¼Œå¦‚æœæ¶‰åŠåˆ°ä¸€å¯¹å¤šçš„å…³è”å…³ç³»ï¼Œ æŸ¥è¯¢å®Œæˆâ€œä¸€â€ä¹‹åï¼Œåœ¨éå†è¿™ä¸ªâ€œä¸€â€è·å–å…¶å…³è”çš„å¤šæ¡æ•°æ®æ—¶ï¼Œ å°±é¢ä¸´äº†Nçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;djangoä¸­æä¾›äº† select_related() å’Œ prefetch_related()&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;select_related()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‰è€…ä¸»è¦ç”¨æ¥å¤„ç† ä¸€å¯¹ä¸€/å¤–é”®å…³è”å…³è”(ForeignKeyå’ŒOneToOneField), å®ƒé€šè¿‡sqlä¸­çš„joinä¸€æ¬¡æ€§æŸ¥è¯¢æ‰€æœ‰ç›¸å…³æ•°æ®ï¼Œä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç”±äºè¿™é‡Œæ˜¯åå‘æŸ¥è¯¢ï¼Œselect_related ä¸é€‚ç”¨ï¼Œä¸‹é¢åªæ˜¯ç¤ºä¾‹å…¶ä½¿ç”¨åœºæ™¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœæ˜¯æ­£å‘æŸ¥è¯¢ï¼Œæ¯”å¦‚ä» Book æŸ¥è¯¢ Author å¯ä»¥ç”¨ select_related&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;books&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Book&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;select_related&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;author&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;book&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;books&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;book&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; çš„ä½œè€…æ˜¯ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;book&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;prefetch_related()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;prefetch_related() ç”¨äºå¤„ç†å¤šå¯¹å¤šå’Œåå‘å…³è”ï¼ˆå¦‚ä¸Šè¿°ç¤ºä¾‹ä¸­ä» Author æŸ¥è¯¢ Bookï¼‰ï¼Œå®ƒé€šè¿‡å¤šæ¬¡æŸ¥è¯¢å¹¶åœ¨ Python å±‚é¢åˆå¹¶æ•°æ®ã€‚ä¿®æ”¹æœ€åˆçš„ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;authors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Author&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prefetch_related&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;books&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;author&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;authors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;book_count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;books&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; æœ‰ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;book_count&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; æœ¬ä¹¦ã€‚&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œï¼Œprefetch_related(&amp;lsquo;books&amp;rsquo;) ä¼šå…ˆæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰ä½œè€…ï¼Œå†æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰ç›¸å…³çš„ä¹¦ç±ï¼Œç„¶ååœ¨ Python å±‚é¢å°†å®ƒä»¬å…³è”èµ·æ¥ã€‚æ€»å…±åªæ‰§è¡Œäº† 2 æ¬¡æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯ N + 1 æ¬¡æŸ¥è¯¢ï¼Œæœ‰æ•ˆæé«˜äº†æ€§èƒ½ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>è®¾è®¡æ¨¡å¼è¯¦è§£</title>
      <link>https://heyuuuu77.github.io/posts/design_pattern/</link>
      <pubDate>Wed, 05 Feb 2025 10:00:19 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/design_pattern/</guid>
      <description>&lt;p&gt;è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘ä¸­é’ˆå¯¹å„ç§åå¤å‡ºç°çš„é—®é¢˜å½’çº³å‡ºçš„é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œæ€»å…±æœ‰23ç§è®¾è®¡æ¨¡å¼ï¼Œåˆ†åˆ«åˆ†æˆåˆ›å»ºå‹ï¼Œç»“æ„æ€§å’Œè¡Œä¸ºå‹ä¸‰å¤§ç±»&lt;/p&gt;
&lt;h4 id=&#34;åˆ›å»ºå‹&#34;&gt;åˆ›å»ºå‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å•ä¾‹æ¨¡å¼
ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹æ¥è®¿é—®è¿™ä¸ªå®ä¾‹ã€‚
Pythonä¸­çš„å®ç°æ–¹å¼æ˜¯é€šè¿‡__new__é­”æœ¯æ–¹æ³•å®ç°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Singleton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;_instance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__new__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;cls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kwargs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;cls&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_instance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;cls&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_instance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;__new__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;cls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kwargs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;cls&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_instance&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ç¤ºä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;s1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Singleton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;s2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Singleton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s1&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# è¾“å‡º: True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å·¥å‚æ¨¡å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å·¥å‚æ¨¡å¼å¯ç»†åˆ†ä¸ºç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç®€å•å·¥å‚æ¨¡å¼&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®šä¹‰ä¸€ä¸ªå·¥å‚ç±»ï¼Œè¯¥ç±»æœ‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼Œé€šè¿‡ä¼ å…¥ä¸åŒçš„å‚æ•°æ¥åˆ›å»ºä¸åŒç±»å‹çš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Dog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Woof!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Meow!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;AnimalFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nd&#34;&gt;@staticmethod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;create_animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;animal_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;animal_type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;dog&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Dog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;animal_type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;cat&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ç¤ºä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dog&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AnimalFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;dog&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# è¾“å‡º: Woof!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å·¥å‚æ¨¡å¼&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†å¯¹è±¡çš„åˆ›å»ºå»¶è¿Ÿåˆ°å­ç±»ä¸­è¿›è¡Œã€‚å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æŠ½è±¡æ–¹æ³•ï¼Œç”±å…·ä½“çš„å­ç±»æ¥å®ç°è¯¥æ–¹æ³•ï¼Œä»è€Œåˆ›å»ºå…·ä½“çš„å¯¹è±¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Dog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Woof!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Meow!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;AnimalFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;create_animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;DogFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AnimalFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;create_animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Dog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CatFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AnimalFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;create_animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ç¤ºä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dog_factory&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DogFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dog&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dog_factory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_animal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;speak&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# è¾“å‡º: Woof!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŠ½è±¡å·¥å‚æ¨¡å¼&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»&lt;/p&gt;</description>
    </item>
    <item>
      <title>Redis</title>
      <link>https://heyuuuu77.github.io/posts/redis/</link>
      <pubDate>Wed, 05 Feb 2025 09:39:00 +0800</pubDate>
      <guid>https://heyuuuu77.github.io/posts/redis/</guid>
      <description>&lt;h4 id=&#34;æ•°æ®ç±»å‹&#34;&gt;æ•°æ®ç±»å‹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;String: å­—ç¬¦ä¸²&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hash: å“ˆå¸Œ, æ˜¯ä¸€ä¸ªé”®å€¼å¯¹é›†åˆï¼Œç±»ä¼¼äº Python ä¸­çš„å­—å…¸ã€‚é€‚åˆå­˜å‚¨å¯¹è±¡ï¼Œä¸€ä¸ªå“ˆå¸Œå¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå’Œå¯¹åº”çš„å€¼ï¼Œæ¯ä¸ªå“ˆå¸Œæœ€å¤šå¯å­˜å‚¨2^32 -1ä¸ªé”®å€¼å¯¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸¸è§å‘½ä»¤:
&lt;ol&gt;
&lt;li&gt;è®¾ç½®å•ä¸ªå­—æ®µå€¼ï¼šHSET key field valueï¼Œä¾‹å¦‚ HSET user:1 name &amp;ldquo;Bob&amp;rdquo;ã€‚&lt;/li&gt;
&lt;li&gt;è·å–å•ä¸ªå­—æ®µå€¼ï¼šHGET key fieldï¼Œä¾‹å¦‚ HGET user:1 name ä¼šè¿”å› &amp;ldquo;Bob&amp;rdquo;ã€‚&lt;/li&gt;
&lt;li&gt;è·å–æ‰€æœ‰å­—æ®µå’Œå€¼ï¼šHGETALL keyã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;List: åˆ—è¡¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¸¸è§å‘½ä»¤:
LPUSH RPUSH LPOP RPOP LINDEX LRANGE LTRIM ç­‰
æ˜¯ä¸€ä¸ªæœ‰åºï¼Œå¯ä»¥é‡å¤çš„çº¿æ€§æ•°æ®æ¥å£ï¼ŒåŸºäºåŒå‘é“¾è¡¨ï¼Œæ”¯æŒå¿«é€Ÿçš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;LPUSH key value [value &amp;hellip;]ï¼šå°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ’å…¥åˆ°åˆ—è¡¨çš„å¤´éƒ¨ã€‚&lt;/li&gt;
&lt;li&gt;RPUSH key value [value &amp;hellip;]ï¼šå°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ’å…¥åˆ°åˆ—è¡¨çš„å°¾éƒ¨ã€‚&lt;/li&gt;
&lt;li&gt;LPOP keyï¼šç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;RPOP keyï¼šç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;LINDEX key indexï¼šè¿”å›åˆ—è¡¨ä¸­æŒ‡å®šç´¢å¼•çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;LRANGE key start stopï¼šè¿”å›åˆ—è¡¨ä¸­æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;LTRIM key start stopï¼šæˆªå–åˆ—è¡¨ï¼Œåªä¿ç•™æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¶ˆæ¯é˜Ÿåˆ—: FIFO (First In First Out)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Pythonçš„ä¸€äº›çŸ¥è¯†ç‚¹</title>
      <link>https://heyuuuu77.github.io/posts/python/</link>
      <pubDate>Wed, 15 Jan 2025 11:30:03 +0000</pubDate>
      <guid>https://heyuuuu77.github.io/posts/python/</guid>
      <description>&lt;h4 id=&#34;pythonçš„æ•°æ®ç±»å‹&#34;&gt;Pythonçš„æ•°æ®ç±»å‹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;int: æ•´å‹&lt;/li&gt;
&lt;li&gt;float: æµ®ç‚¹å‹&lt;/li&gt;
&lt;li&gt;bool: å¸ƒå°”å€¼&lt;/li&gt;
&lt;li&gt;str: å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;list: åˆ—è¡¨ï¼Œæ˜¯ä¸€ç§å¯å˜çš„ã€æœ‰åºçš„åºåˆ—ï¼Œå¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ ã€‚ä½¿ç”¨æ–¹æ‹¬å· [] æ¥å®šä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;tuple: å…ƒç¥–ï¼Œæ˜¯ä¸€ç§ä¸å¯å˜çš„ã€æœ‰åºçš„åºåˆ—ï¼Œä¸€æ—¦åˆ›å»ºï¼Œå…¶å…ƒç´ ä¸èƒ½è¢«ä¿®æ”¹ã€‚ä½¿ç”¨åœ†æ‹¬å· () æ¥å®šä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;set: é›†åˆï¼Œæ˜¯ä¸€ç§æ— åºçš„ã€å”¯ä¸€çš„æ•°æ®é›†åˆï¼Œä¸å…è®¸æœ‰é‡å¤çš„å…ƒç´ ã€‚ä½¿ç”¨èŠ±æ‹¬å· {} æˆ– set() å‡½æ•°æ¥å®šä¹‰&lt;/li&gt;
&lt;li&gt;dict: å­—å…¸ï¼Œæ˜¯ä¸€ç§æ— åºçš„é”®å€¼å¯¹é›†åˆï¼Œæ¯ä¸ªé”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸”é”®å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„æ•°æ®ç±»å‹ï¼ˆå¦‚æ•´æ•°ã€å­—ç¬¦ä¸²ã€å…ƒç»„ç­‰ï¼‰ã€‚ä½¿ç”¨èŠ±æ‹¬å· {} æ¥å®šä¹‰ï¼Œé”®å’Œå€¼ä¹‹é—´ç”¨å†’å· : åˆ†éš”&lt;/li&gt;
&lt;li&gt;NoneType: åªæœ‰ä¸€ä¸ªå€¼ Noneï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºå˜é‡æ²¡æœ‰å€¼æˆ–å‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;liståˆ—è¡¨-ä¸-tupleå…ƒç¥–-çš„åŒºåˆ«&#34;&gt;List(åˆ—è¡¨) ä¸ Tuple(å…ƒç¥–) çš„åŒºåˆ«&lt;/h4&gt;
&lt;p&gt;List å¯å˜ï¼Œé€šè¿‡å¯ä»¥é€šè¿‡ç´¢å¼•ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤ï¼Œ ä½¿ç”¨[]å®šä¹‰ã€‚ Tupleä¸å¯å˜ï¼Œä½¿ç”¨()å®šä¹‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¯è¿­ä»£å¯¹è±¡&#34;&gt;å¯è¿­ä»£å¯¹è±¡&lt;/h4&gt;
&lt;p&gt;åŒ…å« &lt;strong&gt;iter&lt;/strong&gt; æ–¹æ³•ï¼Œèƒ½å¤Ÿè¢«éå†çš„éƒ½å¯ä»¥ç§°ä¹‹ä¸ºå¯è¿­ä»£å¯¹è±¡ã€‚ ä¾‹å¦‚pythonçš„å®¹å™¨ç±»æ•°æ®ç±»å‹ï¼šList, Tuple, Set, Dictã€‚ä½¿ç”¨ &lt;code&gt;iter()&lt;/code&gt; å‡½æ•°å¯ä»¥å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢æˆè¿­ä»£å™¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¿­ä»£å™¨&#34;&gt;è¿­ä»£å™¨&lt;/h4&gt;
&lt;p&gt;åŒ…å« &lt;strong&gt;next&lt;/strong&gt; é­”æ³•æ–¹æ³•çš„å¯¹è±¡ã€‚ å¯¹äºå¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ &lt;code&gt;next()&lt;/code&gt; æ–¹æ³•è°ƒç”¨ï¼Œæ¯æ¬¡è°ƒç”¨ï¼Œéƒ½ä¼šè¿”å›å¯è¿­ä»£å¯¹è±¡çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ç›´åˆ°æ²¡æœ‰å…ƒç´ è¿”å›æ—¶æŠ›å‡ºStopIterationå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç”Ÿæˆå™¨&#34;&gt;ç”Ÿæˆå™¨&lt;/h4&gt;
&lt;p&gt;å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è¿­ä»£å™¨ã€‚ä½¿ç”¨ yield æ–¹æ³•ä»£æ›¿ returnã€‚ æ¯æ¬¡è°ƒç”¨ï¼Œéƒ½ä¼šè®°å½•å‡½æ•°çŠ¶æ€å¹¶è¿”å›å½“å‰å€¼ã€‚ä¸‹æ¬¡è°ƒç”¨ï¼Œä¼šç»§ç»­ä»çºªå½•çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h4 id=&#34;è£…é¥°å™¨&#34;&gt;è£…é¥°å™¨&lt;/h4&gt;
&lt;p&gt;åŒ…å«wrapperæ–¹æ³•ã€‚æ—¨åœ¨ä¸æ”¹å˜å‡½æ•°åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼Œä¿®æ”¹å‡½æ•°/ç»™å‡½æ•°æ·»åŠ åŠŸèƒ½ã€‚ å®ç°åŸç†æ˜¯å› ä¸º å°†åŸå‡½æ•°å½“æˆå‚æ•°ä¼ å…¥è£…é¥°å™¨å‡½æ•°ã€‚ æ¶‰åŠåˆ°ä¸€ä¸ªæ¦‚å¿µï¼š Pythonä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘.&lt;/p&gt;
&lt;h4 id=&#34;ä¸Šä¸‹æ–‡ç®¡ç†å™¨&#34;&gt;ä¸Šä¸‹æ–‡ç®¡ç†å™¨&lt;/h4&gt;
&lt;p&gt;å¯ä»¥ç†è§£æˆåŒ…å«__enter__, __exit__é­”æ³•æ–¹æ³•çš„å¯¹è±¡ã€‚ é€šè¿‡withè°ƒç”¨ï¼Œåœ¨è¯»å–æ–‡ä»¶ï¼Œæ•°æ®åº“è¿æ¥ï¼Œé”çš„è·å–å’Œé‡Šæ”¾ä¸­ç»å¸¸ä½¿ç”¨ã€‚ä½œç”¨æ˜¯ç¡®ä¿èµ„æºçš„æ­£ç¡®ä½¿ç”¨å’Œé‡Šæ”¾ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
